{"ast":null,"code":"import _slicedToArray from\"/Users/sairahulpadma/Desktop/temp/partpro/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import{useLocation,useNavigate}from'react-router-dom';import DashboardServices from'../../services/DashboardServices';import{FeaturesSec}from\"../../components/DetaisSection/Features.elements\";import{GlobalStateContext}from'../../GlobalStateContext';import{Button}from\"../../components/ButtonElement\";import'../ProductDetailsComponent/ProductDetails.css';import EmployeeNavbar from\"../../components/EmployeeNabBar/index\";import{HeroBtnWrapper,ArrowForward,ArrowRight}from\"../../components/HeroSection/HeroElements\";import EmployeeServices from'../../services/EmployeeServices';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ManageProductsComponents=function ManageProductsComponents(){var _useContext=useContext(GlobalStateContext),_useContext2=_slicedToArray(_useContext,2),state=_useContext2[0],dispatch=_useContext2[1];var navigate=useNavigate();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),products=_useState4[0],setProducts=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),hover=_useState6[0],setHover=_useState6[1];var onHover=function onHover(){setHover(!hover);};var handleNewProduct=function handleNewProduct(event,param){event.preventDefault();var id=state.userData.userId;navigate(\"/add-product/\".concat(id));};var handleUpdateProduct=function handleUpdateProduct(event,param){event.preventDefault();var id=state.userData.userId;navigate(\"/update-product/\".concat(id),{state:{param:param}});};var handleDeleteProduct=function handleDeleteProduct(event,param){event.preventDefault();EmployeeServices.deleteProduct(param.productId).then(function(response){console.log(response.data);navigate(\"/employee-dashboard\");}).catch(function(error){console.log(error);});};var getData=function getData(){DashboardServices.getAllProducts().then(function(response){console.log(response.data);var modifiedData=response.data.map(function(item){return{productId:item.productId,productName:item.productName,productImage:generateImage(item.productImage),productDescription:item.productDescription,productPrice:item.productPrice};});setProducts(modifiedData);setLoading(function(e){return!e;});}).catch(function(error){console.log(error);});};var generateImage=function generateImage(base64Image){var imageData=base64Image.split(\",\")[1];var decodedImage=atob(imageData);var arrayBuffer=new Uint8Array(decodedImage.length);for(var i=0;i<decodedImage.length;i++){arrayBuffer[i]=decodedImage.charCodeAt(i);}var blob=new Blob([arrayBuffer],{type:'image/jpeg'});return URL.createObjectURL(blob);};useEffect(function(){getData();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(EmployeeNavbar,{}),/*#__PURE__*/_jsx(FeaturesSec,{children:/*#__PURE__*/_jsx(\"div\",{className:\"product-grid\",children:products.map(function(item){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image\",children:/*#__PURE__*/_jsx(\"img\",{src:item.productImage,alt:item.productName})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h1\",{children:item.productName}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:item.productDescription}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"$\",item.productPrice.toFixed(2)]}),/*#__PURE__*/_jsx(HeroBtnWrapper,{style:{display:\"inline-block\"},children:/*#__PURE__*/_jsxs(Button,{onClick:function onClick(event){return handleNewProduct(event,item);},onMouseEnter:onHover,onMouseLeave:onHover,primary:\"true\",dark:\"true\",children:[\"Add New Product\",hover?/*#__PURE__*/_jsx(ArrowForward,{}):/*#__PURE__*/_jsx(ArrowRight,{})]})}),/*#__PURE__*/_jsx(HeroBtnWrapper,{style:{display:\"inline-block\"},children:/*#__PURE__*/_jsxs(Button,{onClick:function onClick(event){return handleUpdateProduct(event,item);},onMouseEnter:onHover,onMouseLeave:onHover,primary:\"true\",dark:\"true\",children:[\"Update Product\",hover?/*#__PURE__*/_jsx(ArrowForward,{}):/*#__PURE__*/_jsx(ArrowRight,{})]})}),/*#__PURE__*/_jsx(HeroBtnWrapper,{style:{display:\"inline-block\"},children:/*#__PURE__*/_jsxs(Button,{onClick:function onClick(event){return handleDeleteProduct(event,item);},onMouseEnter:onHover,onMouseLeave:onHover,primary:\"true\",dark:\"true\",children:[\"Delete Product\",hover?/*#__PURE__*/_jsx(ArrowForward,{}):/*#__PURE__*/_jsx(ArrowRight,{})]})})]})]});})})})]});};export default ManageProductsComponents;","map":{"version":3,"sources":["/Users/sairahulpadma/Desktop/temp/partpro/frontend/src/pages/ManageProductsComponent/index.js"],"names":["React","useContext","useState","useEffect","useLocation","useNavigate","DashboardServices","FeaturesSec","GlobalStateContext","Button","EmployeeNavbar","HeroBtnWrapper","ArrowForward","ArrowRight","EmployeeServices","ManageProductsComponents","state","dispatch","navigate","loading","setLoading","products","setProducts","hover","setHover","onHover","handleNewProduct","event","param","preventDefault","id","userData","userId","handleUpdateProduct","handleDeleteProduct","deleteProduct","productId","then","response","console","log","data","catch","error","getData","getAllProducts","modifiedData","map","item","productName","productImage","generateImage","productDescription","productPrice","e","base64Image","imageData","split","decodedImage","atob","arrayBuffer","Uint8Array","length","i","charCodeAt","blob","Blob","type","URL","createObjectURL","toFixed","display"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect} from 'react';\nimport { useLocation, useNavigate} from 'react-router-dom';\nimport DashboardServices from '../../services/DashboardServices';\nimport {\n    FeaturesSec\n} from \"../../components/DetaisSection/Features.elements\";\nimport {GlobalStateContext} from  '../../GlobalStateContext'\nimport { Button } from \"../../components/ButtonElement\";\nimport '../ProductDetailsComponent/ProductDetails.css';\nimport EmployeeNavbar from \"../../components/EmployeeNabBar/index\"\nimport {\n    HeroBtnWrapper,\n    ArrowForward,\n    ArrowRight,\n  } from \"../../components/HeroSection/HeroElements\"\nimport EmployeeServices from '../../services/EmployeeServices';\nconst ManageProductsComponents = () => {\n    const [state, dispatch] = useContext(GlobalStateContext);\n    const navigate = useNavigate();\n    const [loading, setLoading] = useState(true)\n    const [products, setProducts] = useState([])\n\n    const [hover, setHover] = useState(false);\n\n    const onHover = () => {\n        setHover(!hover);\n      };\n\n      const handleNewProduct =(event,param)=>{\nevent.preventDefault()\nconst id = state.userData.userId;\nnavigate(`/add-product/${id}`);\n      }\n      const handleUpdateProduct =(event,param)=>{\n        event.preventDefault()\n        const id = state.userData.userId;\n        navigate(`/update-product/${id}`,{ state: { param } });\n              }\n\n      const handleDeleteProduct=(event,param)=>{\n        event.preventDefault()\n        EmployeeServices.deleteProduct(param.productId).then(response => {\n    console.log(response.data)\n    navigate(\"/employee-dashboard\")\n}).catch(error => {\n    console.log(error)\n})\n      }\n    const getData = () => {\n        DashboardServices.getAllProducts().then(response => {\n            console.log(response.data)\n            const modifiedData = response.data.map(item => ({\n                productId: item.productId,\n                productName: item.productName,\n                productImage: generateImage(item.productImage),\n                productDescription: item.productDescription,\n                productPrice: item.productPrice\n            }));\n            setProducts(modifiedData)\n            setLoading(e => !e)\n        }).catch(error => {\n            console.log(error)\n        })\n    }\n   \n\n    const generateImage = (base64Image) => {\n        const imageData = base64Image.split(\",\")[1];\n        const decodedImage = atob(imageData);\n        const arrayBuffer = new Uint8Array(decodedImage.length);\n        for (let i = 0; i < decodedImage.length; i++) {\n            arrayBuffer[i] = decodedImage.charCodeAt(i);\n        }\n        const blob = new Blob([arrayBuffer], { type: 'image/jpeg' });\n        return URL.createObjectURL(blob);\n    }\n\n    useEffect(() => {\n        getData();\n    }, []);\n\n    return (\n        <>\n            <EmployeeNavbar>\n            </EmployeeNavbar>\n            <FeaturesSec>\n                <div className=\"product-grid\">\n                    {products.map((item) => (\n                        <>\n                            <div className=\"product-image\">\n                                <img src={item.productImage} alt={item.productName} />\n                            </div>\n                            <div className=\"product-info\">\n                                <h1>{item.productName}</h1>\n                                <p className=\"product-description\">{item.productDescription}</p>\n                                <p className=\"product-price\">${item.productPrice.toFixed(2)}</p>\n                                <HeroBtnWrapper style={{ display: \"inline-block\" }}>\n                                    <Button\n                                        onClick={(event) => handleNewProduct(event,item)}\n                                        onMouseEnter={onHover}\n                                        onMouseLeave={onHover}\n                                        primary=\"true\"\n                                        dark=\"true\"\n                                    >\n                                        Add New Product{hover ? <ArrowForward /> : <ArrowRight />}\n                                    </Button>\n                                </HeroBtnWrapper>\n                                <HeroBtnWrapper style={{ display: \"inline-block\" }}>\n                                    <Button\n                                        onClick={(event) => handleUpdateProduct(event,item)}\n                                        onMouseEnter={onHover}\n                                        onMouseLeave={onHover}\n                                        primary=\"true\"\n                                        dark=\"true\"\n                                    >\n                                        Update Product{hover ? <ArrowForward /> : <ArrowRight />}\n                                    </Button>\n                                </HeroBtnWrapper>\n                                <HeroBtnWrapper style={{ display: \"inline-block\" }}>\n                                    <Button\n                                        onClick={(event) => handleDeleteProduct(event,item)}\n                                        onMouseEnter={onHover}\n                                        onMouseLeave={onHover}\n                                        primary=\"true\"\n                                        dark=\"true\"\n                                    >\n                                       Delete Product{hover ? <ArrowForward /> : <ArrowRight />}\n                                    </Button>\n                                </HeroBtnWrapper>\n                            </div>\n                        </>\n                    ))}\n                </div>\n            </FeaturesSec>\n        </>\n    );\n}\n\nexport default ManageProductsComponents;"]},"metadata":{},"sourceType":"module"}