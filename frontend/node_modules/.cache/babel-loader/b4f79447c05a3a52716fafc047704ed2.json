{"ast":null,"code":"import _slicedToArray from\"/Users/sairahulpadma/Desktop/temp/partpro/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import{useLocation}from'react-router-dom';import DashboardServices from'../../services/DashboardServices';import{FeaturesSec}from\"../../components/DetaisSection/Features.elements\";import{GlobalStateContext}from'../../GlobalStateContext';import{Button}from\"../../components/ButtonElement\";import'./ProductDetails.css';import DashboardNavbar from\"../../components/DashboardNavBar/index\";import{HeroBtnWrapper,ArrowForward,ArrowRight}from\"../../components/HeroSection/HeroElements\";import EmployeeServices from\"../../services/EmployeeServices\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductsByCategory=function ProductsByCategory(){var _useContext=useContext(GlobalStateContext),_useContext2=_slicedToArray(_useContext,2),state=_useContext2[0],dispatch=_useContext2[1];var location=useLocation();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),products=_useState4[0],setProducts=_useState4[1];var categoryName=location.state.categoryName;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),hover=_useState6[0],setHover=_useState6[1];var onHover=function onHover(){setHover(!hover);};var getData=function getData(){DashboardServices.getProductsByCategoryName(categoryName).then(function(response){console.log(response.data);var modifiedData=response.data.map(function(item){return{productId:item.productId,productName:item.productName,productImage:generateImage(item.productImage),productDescription:item.productDescription,productPrice:item.productPrice};});setProducts(modifiedData);setLoading(function(e){return!e;});}).catch(function(error){console.log(error);});};var handleCart=function handleCart(event,item){var existingProduct=state.cart.find(function(cartItem){return cartItem.id===item.productId;});if(existingProduct){dispatch({type:'INCREASE_QUANTITY',payload:item.productId});}else{var cartdata={id:item.productId,productImage:item.productImage,productPrice:item.productPrice,productDescription:item.productDescription,productName:item.productName,quantity:1};dispatch({type:'ADD_TO_CART',payload:cartdata});}};var handlePickUpCart=function handlePickUpCart(event,item){EmployeeServices.findAssistantEmployee().then(function(response){console.log(response.data);dispatch({type:'EMPLOYEE_DATA',payload:response.data});}).catch(function(error){console.log(error);});var existingProduct=state.cart.find(function(cartItem){return cartItem.id===item.productId;});if(existingProduct){dispatch({type:'INCREASE_QUANTITY',payload:item.productId});}else{var cartdata={id:item.productId,productImage:item.productImage,productPrice:item.productPrice,productDescription:item.productDescription,productName:item.productName,quantity:1};dispatch({type:'ADD_TO_CART',payload:cartdata});}};var generateImage=function generateImage(base64Image){var imageData=base64Image.split(\",\")[1];var decodedImage=atob(imageData);var arrayBuffer=new Uint8Array(decodedImage.length);for(var i=0;i<decodedImage.length;i++){arrayBuffer[i]=decodedImage.charCodeAt(i);}var blob=new Blob([arrayBuffer],{type:'image/jpeg'});return URL.createObjectURL(blob);};useEffect(function(){getData();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(DashboardNavbar,{}),/*#__PURE__*/_jsx(FeaturesSec,{children:/*#__PURE__*/_jsx(\"div\",{className:\"product-grid\",children:products.map(function(item){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image\",children:/*#__PURE__*/_jsx(\"img\",{src:item.productImage,alt:item.productName})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h1\",{children:item.productName}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:item.productDescription}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"$\",item.productPrice.toFixed(2)]}),/*#__PURE__*/_jsx(HeroBtnWrapper,{style:{display:\"inline-block\"},children:/*#__PURE__*/_jsxs(Button,{onClick:function onClick(event){return handleCart(event,item);},onMouseEnter:onHover,onMouseLeave:onHover,primary:\"true\",dark:\"true\",children:[\"Add to Cart\",hover?/*#__PURE__*/_jsx(ArrowForward,{}):/*#__PURE__*/_jsx(ArrowRight,{})]})}),/*#__PURE__*/_jsx(HeroBtnWrapper,{style:{display:\"inline-block\"},children:/*#__PURE__*/_jsxs(Button,{onClick:function onClick(event){return handlePickUpCart(event);},onMouseEnter:onHover,onMouseLeave:onHover,primary:\"true\",dark:\"true\",children:[\"Add to Store Pickup \",hover?/*#__PURE__*/_jsx(ArrowForward,{}):/*#__PURE__*/_jsx(ArrowRight,{})]})})]})]});})})})]});};export default ProductsByCategory;","map":{"version":3,"sources":["/Users/sairahulpadma/Desktop/temp/partpro/frontend/src/pages/ProductsByCategory/index.js"],"names":["React","useContext","useState","useEffect","useLocation","DashboardServices","FeaturesSec","GlobalStateContext","Button","DashboardNavbar","HeroBtnWrapper","ArrowForward","ArrowRight","EmployeeServices","ProductsByCategory","state","dispatch","location","loading","setLoading","products","setProducts","categoryName","hover","setHover","onHover","getData","getProductsByCategoryName","then","response","console","log","data","modifiedData","map","item","productId","productName","productImage","generateImage","productDescription","productPrice","e","catch","error","handleCart","event","existingProduct","cart","find","cartItem","id","type","payload","cartdata","quantity","handlePickUpCart","findAssistantEmployee","base64Image","imageData","split","decodedImage","atob","arrayBuffer","Uint8Array","length","i","charCodeAt","blob","Blob","URL","createObjectURL","toFixed","display"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect} from 'react';\nimport { useLocation } from 'react-router-dom';\nimport DashboardServices from '../../services/DashboardServices';\nimport {\n    FeaturesSec\n} from \"../../components/DetaisSection/Features.elements\";\nimport {GlobalStateContext} from  '../../GlobalStateContext'\nimport { Button } from \"../../components/ButtonElement\";\nimport './ProductDetails.css';\nimport DashboardNavbar from \"../../components/DashboardNavBar/index\"\nimport {\n    HeroBtnWrapper,\n    ArrowForward,\n    ArrowRight,\n  } from \"../../components/HeroSection/HeroElements\"\nimport EmployeeServices from \"../../services/EmployeeServices\"\nconst ProductsByCategory = () => {\n    const [state, dispatch] = useContext(GlobalStateContext);\n    const location = useLocation();\n    const [loading, setLoading] = useState(true)\n    const [products, setProducts] = useState([])\n    const categoryName = location.state.categoryName;\n    const [hover, setHover] = useState(false);\n\n    const onHover = () => {\n        setHover(!hover);\n      };\n\n    const getData = () => {\n        DashboardServices.getProductsByCategoryName(categoryName).then(response => {\n            console.log(response.data)\n            const modifiedData = response.data.map(item => ({\n                productId: item.productId,\n                productName: item.productName,\n                productImage: generateImage(item.productImage),\n                productDescription: item.productDescription,\n                productPrice: item.productPrice\n            }));\n            setProducts(modifiedData)\n            setLoading(e => !e)\n        }).catch(error => {\n            console.log(error)\n        })\n    }\n    const handleCart=(event,item)=>{\n        const existingProduct = state.cart.find(cartItem => cartItem.id === item.productId);\n        if (existingProduct) {\n          dispatch({ \n            type: 'INCREASE_QUANTITY', \n            payload: item.productId\n          });\n        } else {\n        const cartdata={\n          id: item.productId,\n          productImage:item.productImage,\n          productPrice:item.productPrice,\n          productDescription: item.productDescription,\n          productName: item.productName,\n          quantity: 1\n        };\n        dispatch({ type: 'ADD_TO_CART', payload: cartdata});\n      }\n    }\n    const handlePickUpCart=(event,item)=>{\n        EmployeeServices.findAssistantEmployee().then(response => {\n            console.log(response.data)\n            dispatch({ type: 'EMPLOYEE_DATA', payload: response.data});\n        }).catch(error => {\n            console.log(error)\n        })\n        const existingProduct = state.cart.find(cartItem => cartItem.id === item.productId);\n        if (existingProduct) {\n          dispatch({ \n            type: 'INCREASE_QUANTITY', \n            payload: item.productId\n          });\n        } else {\n        const cartdata={\n          id: item.productId,\n          productImage:item.productImage,\n          productPrice:item.productPrice,\n          productDescription: item.productDescription,\n          productName: item.productName,\n          quantity: 1\n        };\n        dispatch({ type: 'ADD_TO_CART', payload: cartdata});\n      }\n    }\n    const generateImage = (base64Image) => {\n        const imageData = base64Image.split(\",\")[1];\n        const decodedImage = atob(imageData);\n        const arrayBuffer = new Uint8Array(decodedImage.length);\n        for (let i = 0; i < decodedImage.length; i++) {\n            arrayBuffer[i] = decodedImage.charCodeAt(i);\n        }\n        const blob = new Blob([arrayBuffer], { type: 'image/jpeg' });\n        return URL.createObjectURL(blob);\n    }\n\n    useEffect(() => {\n        getData();\n    }, []);\n\n    return (\n        <>\n            <DashboardNavbar>\n            </DashboardNavbar>\n            <FeaturesSec>\n                <div className=\"product-grid\">\n                    {products.map((item) => (\n                        <>\n                            <div className=\"product-image\">\n                                <img src={item.productImage} alt={item.productName} />\n                            </div>\n                            <div className=\"product-info\">\n                                <h1>{item.productName}</h1>\n                                <p className=\"product-description\">{item.productDescription}</p>\n                                <p className=\"product-price\">${item.productPrice.toFixed(2)}</p>\n                                <HeroBtnWrapper style={{ display: \"inline-block\" }}>\n                                    <Button\n                                        onClick={(event) => handleCart(event,item)}\n                                        onMouseEnter={onHover}\n                                        onMouseLeave={onHover}\n                                        primary=\"true\"\n                                        dark=\"true\"\n                                    >\n                                        Add to Cart{hover ? <ArrowForward /> : <ArrowRight />}\n                                    </Button>\n                                </HeroBtnWrapper>\n                                <HeroBtnWrapper style={{ display: \"inline-block\" }}>\n                                    <Button\n                                        onClick={(event) => handlePickUpCart(event)}\n                                        onMouseEnter={onHover}\n                                        onMouseLeave={onHover}\n                                        primary=\"true\"\n                                        dark=\"true\"\n                                    >\n                                        Add to Store Pickup {hover ? <ArrowForward /> : <ArrowRight />}\n                                    </Button>\n                                </HeroBtnWrapper>\n                            </div>\n                        </>\n                    ))}\n                </div>\n            </FeaturesSec>\n        </>\n    );\n}\n\nexport default ProductsByCategory;"]},"metadata":{},"sourceType":"module"}