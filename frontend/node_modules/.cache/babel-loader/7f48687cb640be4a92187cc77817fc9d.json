{"ast":null,"code":"var _jsxFileName = \"/Users/sairahulpadma/Downloads/smartcontract/smfrontend/frontend-tm-smartcontract/src/pages/createContract/index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Navbar2 from \"../../components/Navbar/navbar2\";\nimport emptylist from \"../../../src/assets/emptyLoanList.png\";\nimport { HeroContainer, HeroBg, ImageBg, HeroContent, HeroH1, HeroP, HeroBtnWrapper, ArrowForward, ArrowRight } from \"../../components/HeroSection/HeroElements\";\nimport { Button } from \"../../components/ButtonElement\";\nimport TM from \"../../common/assets/form.svg\";\nimport smartContractServices from \"../../services/smartcontractservices\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Box from \"@mui/material/Box\";\nimport { FeaturesRow, FeaturesColumn, TextWrapper, Img, TopLine, FeaturesSec, FeaturesContainer, ImgWrapper, Table } from \"./Features.elements\";\nimport e from \"cors\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CreateContract = ({\n  lightTopLine\n}) => {\n  _s();\n\n  const params = useParams();\n  const [hover, setHover] = useState(false);\n  console.log(\"param details\", params[\"param\"]);\n  const [loading, setLoading] = useState(true);\n  const [tp, setTp] = useState([]);\n  const [ip, setIp] = useState([]);\n  const [gp, setGp] = useState([]);\n  const [ep, setEp] = useState([]);\n\n  const onHover = () => {\n    setHover(!hover);\n  };\n\n  if (ep.length != 0) {\n    for (var i = 0; i < tp.length; i++) {\n      for (var j = 0; j < ep.length; j++) {\n        if (ep[j].name === tp[i].name) {\n          tp[i].value = ep[j].value;\n          break;\n        }\n      }\n    }\n  }\n\n  const [data, setData] = useState([]);\n\n  const getData = () => {\n    smartContractServices.getAllParameters(params[\"param\"]).then(response => {\n      console.log(response.data);\n      setData(response.data);\n      setLoading(e => !e); //getPara(response.data)\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  useEffect(() => {\n    getData();\n    console.log(data);\n    console.log(loading);\n  }, []);\n  useEffect(() => {\n    if (data.length !== 0) {\n      console.log(\"ddd\", data);\n      var temparray = data.param_records[0].product_versions[0].params;\n      var newarray = temparray.filter(function (temparr) {\n        return temparr.level === \"LEVEL_PRODUCT\";\n      });\n      setTp(newarray);\n      var temparray2 = data.param_records[0].product_versions[0].params;\n      var instancearray = temparray2.filter(function (instarray) {\n        return instarray.level === \"LEVEL_INSTANCE\";\n      });\n      setIp(instancearray);\n      var globalarray = data.param_records[1].global_parameters;\n      setGp(globalarray);\n      var exceltemparray = data.param_records[2].template_params[0];\n      setEp(exceltemparray);\n    }\n  }, [data]);\n\n  const CreateSmartButton = event => {\n    event.preventDefault();\n    const req = {};\n    const num1 = data.param_records[0].product_versions[0].display_version_number.major.toString();\n    const num2 = data.param_records[0].product_versions[0].display_version_number.minor.toString();\n    const num3 = data.param_records[0].product_versions[0].display_version_number.patch.toString();\n    const text = num1 + \".\" + num2 + \".\" + num3;\n    var prod = params[\"param\"];\n    var firstNumber = prod.match(/[0-9]+/);\n    var num = prod.indexOf(firstNumber);\n\n    if (num != -1) {\n      prod = prod.substring(0, num);\n    }\n\n    console.log(\"nnn\", prod);\n    req.configparams = {\n      display_name: prod,\n      product_id: prod,\n      version: text,\n      code: \"code_files/\"\n    };\n    var len = data.param_records[0].product_versions[0].params.length;\n    req.configparams.templateparams = [];\n\n    for (var i = 0; i < len; i++) {\n      req.configparams.templateparams.push({\n        name: data.param_records[0].product_versions[0].params[i].name,\n        value: document.getElementById(\"value\" + i).value\n      });\n    }\n\n    req.params = data.param_records[0].product_versions[0].params;\n\n    for (var i = 0; i < len; i++) {\n      req.params[i].value = document.getElementById(\"value\" + i).value;\n    }\n\n    console.log(\"rrrr\", req);\n    smartContractServices.createSmartContract(req, params[\"param\"]).then(response => {\n      console.log(response.data);\n      alert(\"Congratulations\" + response.data);\n    }).catch(error => {\n      console.log(error);\n      alert(\"Oops we are unable to create the product\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar2, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FeaturesSec, {\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: \"auto\",\n          top: \"50%\",\n          display: \"block\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: \"flex\"\n          },\n          children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(FeaturesContainer, {\n        children: /*#__PURE__*/_jsxDEV(FeaturesRow, {\n          children: [/*#__PURE__*/_jsxDEV(TopLine, {\n            lightTopLine: lightTopLine,\n            children: [\"Smart Contract - Savings Product\", /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"grey\",\n                fontSize: \"2vh\",\n                marginTop: \"2vh\"\n              },\n              children: \"Parameters based on Savings Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FeaturesColumn, {\n            children: [/*#__PURE__*/_jsxDEV(TextWrapper, {\n              children: [/*#__PURE__*/_jsxDEV(Table, {\n                children: [/*#__PURE__*/_jsxDEV(\"caption\", {\n                  style: {\n                    color: \"white\",\n                    marginLeft: \"0%\",\n                    padding: \"2vh\",\n                    fontSize: \"5vh\"\n                  },\n                  children: \"Global Parameters\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: gp.map((ge, i) => {\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          color: \"white\",\n                          padding: \"1vh\",\n                          fontSize: \"3vh\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"label\", {\n                          children: /*#__PURE__*/_jsxDEV(\"b\", {\n                            children: ge.display_name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 199,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 198,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 191,\n                        columnNumber: 29\n                      }, this), ge.name === \"denomination\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            style: {\n                              borderRadius: \"6px\",\n                              textAlign: \"center\",\n                              padding: \"0.7vh\",\n                              marginLeft: \"1vh\"\n                            },\n                            type: \"text\",\n                            placeholder: \"Enter Value\",\n                            name: \"denomination\",\n                            id: \"gvalue\" + i,\n                            defaultValue: ge.value,\n                            required: true\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 205,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 219,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 204,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            style: {\n                              borderRadius: \"6px\",\n                              textAlign: \"center\",\n                              padding: \"0.7vh\",\n                              marginLeft: \"1vh\"\n                            },\n                            type: \"number\",\n                            min: \"0\",\n                            step: \"any\",\n                            placeholder: \"Enter Value\",\n                            name: \"limit\" + i,\n                            id: \"gvalue\" + i,\n                            defaultValue: 0,\n                            required: true\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 225,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 241,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 224,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 27\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Table, {\n                children: [/*#__PURE__*/_jsxDEV(\"caption\", {\n                  style: {\n                    color: \"white\",\n                    marginLeft: \"0%\",\n                    padding: \"2vh\",\n                    fontSize: \"5vh\"\n                  },\n                  children: \"Template Parameters\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: tp.map((pe, i) => {\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          color: \"white\",\n                          padding: \"1vh\",\n                          fontSize: \"3vh\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"label\", {\n                          children: /*#__PURE__*/_jsxDEV(\"b\", {\n                            children: pe.name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 273,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 272,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 265,\n                        columnNumber: 29\n                      }, this), pe.name === \"denomination\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            style: {\n                              borderRadius: \"6px\",\n                              textAlign: \"center\",\n                              padding: \"0.7vh\",\n                              marginLeft: \"1vh\"\n                            },\n                            type: \"text\",\n                            placeholder: \"Enter Value\",\n                            name: \"denomination\",\n                            id: \"value\" + i,\n                            defaultValue: pe.value,\n                            required: true\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 279,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 293,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 278,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            style: {\n                              borderRadius: \"6px\",\n                              textAlign: \"center\",\n                              padding: \"0.7vh\",\n                              marginLeft: \"1vh\"\n                            },\n                            type: \"number\",\n                            min: \"0\",\n                            step: \"any\",\n                            placeholder: \"Enter Value\",\n                            name: \"limit\" + i,\n                            id: \"value\" + i,\n                            defaultValue: pe.value === \"\" ? pe.default_value === \"\" ? 0 : pe.default_value : pe.value,\n                            required: true\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 299,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 321,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 298,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 27\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Table, {\n                children: [/*#__PURE__*/_jsxDEV(\"caption\", {\n                  style: {\n                    color: \"white\",\n                    padding: \"2vh\",\n                    fontSize: \"5vh\"\n                  },\n                  children: \"Instance Parameters\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: ip.map((ie, i) => {\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          color: \"white\",\n                          padding: \"1vh\",\n                          fontSize: \"3vh\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"label\", {\n                          children: /*#__PURE__*/_jsxDEV(\"b\", {\n                            children: ie.name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 353,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 352,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 345,\n                        columnNumber: 29\n                      }, this), ie.name === \"denomination\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            style: {\n                              borderRadius: \"6px\",\n                              textAlign: \"center\",\n                              padding: \"0.7vh\",\n                              marginLeft: \"1vh\"\n                            },\n                            type: \"text\",\n                            placeholder: \"Enter Value\",\n                            name: \"denomination\",\n                            id: \"ivalue\" + i,\n                            value: ie.value,\n                            required: true\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 359,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 373,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 358,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            style: {\n                              borderRadius: \"6px\",\n                              textAlign: \"center\",\n                              padding: \"0.7vh\",\n                              marginLeft: \"1vh\"\n                            },\n                            type: \"number\",\n                            min: \"0\",\n                            step: \"any\",\n                            placeholder: \"Enter Value\",\n                            name: \"limit\" + i,\n                            id: \"ivalue\" + i,\n                            value: ie.value === \"\" ? ie.default_value === \"\" ? 0 : ie.default_value : ie.value,\n                            required: true\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 379,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 401,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 378,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 27\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(HeroBtnWrapper, {\n              style: {\n                display: \"inline-block\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: event => CreateSmartButton(event),\n                onMouseEnter: onHover,\n                onMouseLeave: onHover,\n                primary: \"true\",\n                dark: \"true\",\n                children: [\"Create Contract \", hover ? /*#__PURE__*/_jsxDEV(ArrowForward, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 46\n                }, this) : /*#__PURE__*/_jsxDEV(ArrowRight, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 65\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FeaturesColumn, {\n            children: /*#__PURE__*/_jsxDEV(ImgWrapper, {\n              children: /*#__PURE__*/_jsxDEV(Img, {\n                src: TM,\n                alt: \"car\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CreateContract, \"Dbkz76hGO9qfZ317XtlcxIuuloc=\", false, function () {\n  return [useParams];\n});\n\n_c = CreateContract;\nexport default CreateContract;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateContract\");","map":{"version":3,"sources":["/Users/sairahulpadma/Downloads/smartcontract/smfrontend/frontend-tm-smartcontract/src/pages/createContract/index.js"],"names":["React","useState","useEffect","useParams","Navbar2","emptylist","HeroContainer","HeroBg","ImageBg","HeroContent","HeroH1","HeroP","HeroBtnWrapper","ArrowForward","ArrowRight","Button","smartContractServices","CircularProgress","Box","FeaturesRow","FeaturesColumn","TextWrapper","Img","TopLine","FeaturesSec","FeaturesContainer","ImgWrapper","Table","e","CreateContract","lightTopLine","params","hover","setHover","console","log","loading","setLoading","tp","setTp","ip","setIp","gp","setGp","ep","setEp","onHover","length","i","j","name","value","data","setData","getData","getAllParameters","then","response","catch","error","temparray","param_records","product_versions","newarray","filter","temparr","level","temparray2","instancearray","instarray","globalarray","global_parameters","exceltemparray","template_params","CreateSmartButton","event","preventDefault","req","num1","display_version_number","major","toString","num2","minor","num3","patch","text","prod","firstNumber","match","num","indexOf","substring","configparams","display_name","product_id","version","code","len","templateparams","push","document","getElementById","createSmartContract","alert","margin","top","display","color","fontSize","marginTop","marginLeft","padding","map","ge","borderRadius","textAlign","pe","default_value","ie","TM"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Navbar2 from \"../../components/Navbar/navbar2\";\r\nimport emptylist from \"../../../src/assets/emptyLoanList.png\";\r\nimport {\r\n  HeroContainer,\r\n  HeroBg,\r\n  ImageBg,\r\n  HeroContent,\r\n  HeroH1,\r\n  HeroP,\r\n  HeroBtnWrapper,\r\n  ArrowForward,\r\n  ArrowRight,\r\n} from \"../../components/HeroSection/HeroElements\";\r\nimport { Button } from \"../../components/ButtonElement\";\r\nimport TM from \"../../common/assets/form.svg\";\r\nimport smartContractServices from \"../../services/smartcontractservices\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport Box from \"@mui/material/Box\";\r\nimport {\r\n  FeaturesRow,\r\n  FeaturesColumn,\r\n  TextWrapper,\r\n  Img,\r\n  TopLine,\r\n  FeaturesSec,\r\n  FeaturesContainer,\r\n  ImgWrapper,\r\n  Table,\r\n} from \"./Features.elements\";\r\nimport e from \"cors\";\r\n\r\nconst CreateContract = ({ lightTopLine }) => {\r\n  const params = useParams();\r\n  const [hover, setHover] = useState(false);\r\n  console.log(\"param details\", params[\"param\"]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [tp, setTp] = useState([]);\r\n  const [ip, setIp] = useState([]);\r\n  const [gp, setGp] = useState([]);\r\n  const [ep, setEp] = useState([]);\r\n  const onHover = () => {\r\n    setHover(!hover);\r\n  };\r\n\r\n  if (ep.length != 0) {\r\n    for (var i = 0; i < tp.length; i++) {\r\n      for (var j = 0; j < ep.length; j++) {\r\n        if (ep[j].name === tp[i].name) {\r\n          tp[i].value = ep[j].value;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const getData = () => {\r\n    smartContractServices\r\n      .getAllParameters(params[\"param\"])\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        setData(response.data);\r\n        setLoading((e) => !e);\r\n        //getPara(response.data)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    getData();\r\n    console.log(data);\r\n    console.log(loading);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (data.length !== 0) {\r\n      console.log(\"ddd\", data);\r\n      var temparray = data.param_records[0].product_versions[0].params;\r\n      var newarray = temparray.filter(function (temparr) {\r\n        return temparr.level === \"LEVEL_PRODUCT\";\r\n      });\r\n      setTp(newarray);\r\n      var temparray2 = data.param_records[0].product_versions[0].params;\r\n      var instancearray = temparray2.filter(function (instarray) {\r\n        return instarray.level === \"LEVEL_INSTANCE\";\r\n      });\r\n      setIp(instancearray);\r\n      var globalarray = data.param_records[1].global_parameters;\r\n      setGp(globalarray);\r\n      var exceltemparray = data.param_records[2].template_params[0];\r\n      setEp(exceltemparray);\r\n    }\r\n  }, [data]);\r\n\r\n  const CreateSmartButton = (event) => {\r\n    event.preventDefault();\r\n    const req = {};\r\n    const num1 =\r\n      data.param_records[0].product_versions[0].display_version_number.major.toString();\r\n    const num2 =\r\n    data.param_records[0].product_versions[0].display_version_number.minor.toString();\r\n    const num3 =\r\n    data.param_records[0].product_versions[0].display_version_number.patch.toString();\r\n    const text = num1 + \".\" + num2 + \".\" + num3;\r\n    var prod = params[\"param\"];\r\n    var firstNumber = prod.match(/[0-9]+/);\r\n    var num = prod.indexOf(firstNumber);\r\n    if (num != -1) {\r\n      prod = prod.substring(0, num);\r\n    }\r\n    console.log(\"nnn\", prod);\r\n    req.configparams = {\r\n      display_name: prod,\r\n      product_id: prod,\r\n      version: text,\r\n      code: \"code_files/\",\r\n    };\r\n    var len = data.param_records[0].product_versions[0].params.length;\r\n    req.configparams.templateparams = [];\r\n    for (var i = 0; i < len; i++) {\r\n      req.configparams.templateparams.push({\r\n        name:data.param_records[0].product_versions[0].params[i].name,\r\n        value: document.getElementById(\"value\" + i).value,\r\n      });\r\n    }\r\n    req.params = data.param_records[0].product_versions[0].params;\r\n    for (var i = 0; i < len; i++) {\r\n      req.params[i].value = document.getElementById(\"value\" + i).value;\r\n    }\r\n    console.log(\"rrrr\", req);\r\n    smartContractServices\r\n      .createSmartContract(req, params[\"param\"])\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        alert(\"Congratulations\" + response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        alert(\"Oops we are unable to create the product\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar2 />\r\n      <FeaturesSec>\r\n        {loading ? (\r\n          <div\r\n            style={{\r\n              margin: \"auto\",\r\n              top: \"50%\",\r\n              display: \"block\",\r\n            }}\r\n          >\r\n            <Box sx={{ display: \"flex\" }}>\r\n              <CircularProgress />\r\n            </Box>\r\n          </div>\r\n        ) : (\r\n          <FeaturesContainer>\r\n            <FeaturesRow>\r\n              <TopLine lightTopLine={lightTopLine}>\r\n                Smart Contract - Savings Product\r\n                <p style={{ color: \"grey\", fontSize: \"2vh\", marginTop: \"2vh\" }}>\r\n                  Parameters based on Savings Product\r\n                </p>\r\n              </TopLine>\r\n              <FeaturesColumn>\r\n                <TextWrapper>\r\n                  <Table>\r\n                    <caption\r\n                      style={{\r\n                        color: \"white\",\r\n                        marginLeft: \"0%\",\r\n                        padding: \"2vh\",\r\n                        fontSize: \"5vh\",\r\n                      }}\r\n                    >\r\n                      Global Parameters\r\n                    </caption>\r\n                    <tbody>\r\n                      {gp.map((ge, i) => {\r\n                        return (\r\n                          <tr key={i}>\r\n                            <td\r\n                              style={{\r\n                                color: \"white\",\r\n                                padding: \"1vh\",\r\n                                fontSize: \"3vh\",\r\n                              }}\r\n                            >\r\n                              <label>\r\n                                <b>{ge.display_name}</b>\r\n                              </label>\r\n                            </td>\r\n                            {ge.name === \"denomination\" ? (\r\n                              <>\r\n                                <td>\r\n                                  <input\r\n                                    style={{\r\n                                      borderRadius: \"6px\",\r\n                                      textAlign: \"center\",\r\n                                      padding: \"0.7vh\",\r\n                                      marginLeft: \"1vh\",\r\n                                    }}\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter Value\"\r\n                                    name=\"denomination\"\r\n                                    id={\"gvalue\" + i}\r\n                                    defaultValue={ge.value}\r\n                                    required\r\n                                  />\r\n                                  <br />\r\n                                </td>\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                <td>\r\n                                  <input\r\n                                    style={{\r\n                                      borderRadius: \"6px\",\r\n                                      textAlign: \"center\",\r\n                                      padding: \"0.7vh\",\r\n                                      marginLeft: \"1vh\",\r\n                                    }}\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    step=\"any\"\r\n                                    placeholder=\"Enter Value\"\r\n                                    name={\"limit\" + i}\r\n                                    id={\"gvalue\" + i}\r\n                                    defaultValue={0}\r\n                                    required\r\n                                  />\r\n                                  <br />\r\n                                </td>\r\n                              </>\r\n                            )}\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                    </tbody>\r\n                  </Table>\r\n                  <Table>\r\n                    <caption\r\n                      style={{\r\n                        color: \"white\",\r\n                        marginLeft: \"0%\",\r\n                        padding: \"2vh\",\r\n                        fontSize: \"5vh\",\r\n                      }}\r\n                    >\r\n                      Template Parameters\r\n                    </caption>\r\n                    <tbody>\r\n                      {tp.map((pe, i) => {\r\n                        return (\r\n                          <tr key={i}>\r\n                            <td\r\n                              style={{\r\n                                color: \"white\",\r\n                                padding: \"1vh\",\r\n                                fontSize: \"3vh\",\r\n                              }}\r\n                            >\r\n                              <label>\r\n                                <b>{pe.name}</b>\r\n                              </label>\r\n                            </td>\r\n                            {pe.name === \"denomination\" ? (\r\n                              <>\r\n                                <td>\r\n                                  <input\r\n                                    style={{\r\n                                      borderRadius: \"6px\",\r\n                                      textAlign: \"center\",\r\n                                      padding: \"0.7vh\",\r\n                                      marginLeft: \"1vh\",\r\n                                    }}\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter Value\"\r\n                                    name=\"denomination\"\r\n                                    id={\"value\" + i}\r\n                                    defaultValue={pe.value}\r\n                                    required\r\n                                  />\r\n                                  <br />\r\n                                </td>\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                <td>\r\n                                  <input\r\n                                    style={{\r\n                                      borderRadius: \"6px\",\r\n                                      textAlign: \"center\",\r\n                                      padding: \"0.7vh\",\r\n                                      marginLeft: \"1vh\",\r\n                                    }}\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    step=\"any\"\r\n                                    placeholder=\"Enter Value\"\r\n                                    name={\"limit\" + i}\r\n                                    id={\"value\" + i}\r\n                                    defaultValue={\r\n                                      pe.value === \"\"\r\n                                        ? pe.default_value === \"\"\r\n                                          ? 0\r\n                                          : pe.default_value\r\n                                        : pe.value\r\n                                    }\r\n                                    required\r\n                                  />\r\n                                  <br />\r\n                                </td>\r\n                              </>\r\n                            )}\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                    </tbody>\r\n                  </Table>\r\n\r\n                  <Table>\r\n                    <caption\r\n                      style={{\r\n                        color: \"white\",\r\n                        padding: \"2vh\",\r\n                        fontSize: \"5vh\",\r\n                      }}\r\n                    >\r\n                      Instance Parameters\r\n                    </caption>\r\n                    <tbody>\r\n                      {ip.map((ie, i) => {\r\n                        return (\r\n                          <tr key={i}>\r\n                            <td\r\n                              style={{\r\n                                color: \"white\",\r\n                                padding: \"1vh\",\r\n                                fontSize: \"3vh\",\r\n                              }}\r\n                            >\r\n                              <label>\r\n                                <b>{ie.name}</b>\r\n                              </label>\r\n                            </td>\r\n                            {ie.name === \"denomination\" ? (\r\n                              <>\r\n                                <td>\r\n                                  <input\r\n                                    style={{\r\n                                      borderRadius: \"6px\",\r\n                                      textAlign: \"center\",\r\n                                      padding: \"0.7vh\",\r\n                                      marginLeft: \"1vh\",\r\n                                    }}\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter Value\"\r\n                                    name=\"denomination\"\r\n                                    id={\"ivalue\" + i}\r\n                                    value={ie.value}\r\n                                    required\r\n                                  />\r\n                                  <br />\r\n                                </td>\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                <td>\r\n                                  <input\r\n                                    style={{\r\n                                      borderRadius: \"6px\",\r\n                                      textAlign: \"center\",\r\n                                      padding: \"0.7vh\",\r\n                                      marginLeft: \"1vh\",\r\n                                    }}\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    step=\"any\"\r\n                                    placeholder=\"Enter Value\"\r\n                                    name={\"limit\" + i}\r\n                                    id={\"ivalue\" + i}\r\n                                    value={\r\n                                      ie.value === \"\"\r\n                                        ? ie.default_value === \"\"\r\n                                          ? 0\r\n                                          : ie.default_value\r\n                                        : ie.value\r\n                                    }\r\n                                    required\r\n                                  />\r\n                                  <br />\r\n                                </td>\r\n                              </>\r\n                            )}\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                    </tbody>\r\n                  </Table>\r\n                </TextWrapper>\r\n                <HeroBtnWrapper style={{ display: \"inline-block\" }}>\r\n                  <Button\r\n                    onClick={(event) => CreateSmartButton(event)}\r\n                    onMouseEnter={onHover}\r\n                    onMouseLeave={onHover}\r\n                    primary=\"true\"\r\n                    dark=\"true\"\r\n                  >\r\n                    Create Contract {hover ? <ArrowForward /> : <ArrowRight />}\r\n                  </Button>\r\n                </HeroBtnWrapper>\r\n              </FeaturesColumn>\r\n              <FeaturesColumn>\r\n                <ImgWrapper>\r\n                  <Img src={TM} alt=\"car\" />\r\n                </ImgWrapper>\r\n              </FeaturesColumn>\r\n            </FeaturesRow>\r\n          </FeaturesContainer>\r\n        )}\r\n      </FeaturesSec>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreateContract;\r\n"]},"metadata":{},"sourceType":"module"}