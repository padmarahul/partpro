{"ast":null,"code":"import _slicedToArray from\"/Users/sairahulpadma/Desktop/UNT/SPRING-2024/SE/partpro-del3/partpro-management-system/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"/Users/sairahulpadma/Desktop/UNT/SPRING-2024/SE/partpro-del3/partpro-management-system/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/sairahulpadma/Desktop/UNT/SPRING-2024/SE/partpro-del3/partpro-management-system/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";// GlobalStateContext.js\nimport React,{createContext,useReducer,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var GlobalStateContext=/*#__PURE__*/createContext();// Helper function to load state from localStorage\nvar loadState=function loadState(){try{var serializedState=localStorage.getItem('globalState');if(serializedState===null){return initialState;}return JSON.parse(serializedState);}catch(err){return initialState;}};// Helper function to save state to localStorage\nvar saveState=function saveState(state){try{var serializedState=JSON.stringify(state);localStorage.setItem('globalState',serializedState);}catch(err){// Log or handle write errors\n}};var initialState={// Initialize your state here\nuserData:null,otherData:null,cart:[]};var reducer=function reducer(state,action){switch(action.type){case'SET_USER_DATA':return _objectSpread(_objectSpread({},state),{},{userData:action.payload});case'SET_OTHER_DATA':return _objectSpread(_objectSpread({},state),{},{otherData:action.payload});case'ADD_TO_CART':return _objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(state.cart),[action.payload])});case'REMOVE_FROM_CART':return _objectSpread(_objectSpread({},state),{},{cart:state.cart.filter(function(item){return item.id!==action.payload;})});case'INCREASE_QUANTITY':return _objectSpread(_objectSpread({},state),{},{cart:state.cart.map(function(item){return item.id===action.payload?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1}):item;})});case'DECREASE_QUANTITY':return _objectSpread(_objectSpread({},state),{},{cart:state.cart.map(function(item){return item.id===action.payload&&item.quantity>1?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity-1}):item;})});case'CLEAR_CART':return _objectSpread(_objectSpread({},state),{},{cart:[]});default:return state;}};export var GlobalStateProvider=function GlobalStateProvider(_ref){var children=_ref.children;var _useReducer=useReducer(reducer,loadState()),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// Update localStorage when state changes\nuseEffect(function(){saveState(state);},[state]);return/*#__PURE__*/_jsx(GlobalStateContext.Provider,{value:[state,dispatch],children:children});};","map":{"version":3,"sources":["/Users/sairahulpadma/Desktop/UNT/SPRING-2024/SE/partpro-del3/partpro-management-system/src/frontend/src/GlobalStateContext.js"],"names":["React","createContext","useReducer","useEffect","GlobalStateContext","loadState","serializedState","localStorage","getItem","initialState","JSON","parse","err","saveState","state","stringify","setItem","userData","otherData","cart","reducer","action","type","payload","filter","item","id","map","quantity","GlobalStateProvider","children","dispatch"],"mappings":"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","sourcesContent":["// GlobalStateContext.js\nimport React, { createContext, useReducer,useEffect } from 'react';\n\nexport const GlobalStateContext = createContext();\n\n// Helper function to load state from localStorage\nconst loadState = () => {\n  try {\n    const serializedState = localStorage.getItem('globalState');\n    if (serializedState === null) {\n      return initialState;\n    }\n    return JSON.parse(serializedState);\n  } catch (err) {\n    return initialState;\n  }\n};\n\n// Helper function to save state to localStorage\nconst saveState = (state) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem('globalState', serializedState);\n  } catch (err) {\n    // Log or handle write errors\n  }\n};\n\n\nconst initialState = {\n  // Initialize your state here\n  userData: null,\n  otherData: null,\n  cart: []\n};\n\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_USER_DATA':\n      return { ...state, userData: action.payload };\n    case 'SET_OTHER_DATA':\n      return { ...state, otherData: action.payload };\n      case 'ADD_TO_CART':\n      return { ...state, cart: [...state.cart, action.payload] };\n    case 'REMOVE_FROM_CART':\n      return { ...state, cart: state.cart.filter(item => item.id !== action.payload) };\n    case 'INCREASE_QUANTITY':\n      return { ...state, cart: state.cart.map(item => item.id === action.payload ? { ...item, quantity: item.quantity + 1 } : item) };\n    case 'DECREASE_QUANTITY':\n      return { ...state, cart: state.cart.map(item => item.id === action.payload && item.quantity > 1 ? { ...item, quantity: item.quantity - 1 } : item) };\n    case 'CLEAR_CART':\n      return { ...state, cart: [] };\n    default:\n      return state;\n  }\n};\n\nexport const GlobalStateProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, loadState());\n\n\n   // Update localStorage when state changes\n   useEffect(() => {\n    saveState(state);\n  }, [state]);\n\n  return (\n    <GlobalStateContext.Provider value={[state, dispatch]}>\n      {children}\n    </GlobalStateContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}