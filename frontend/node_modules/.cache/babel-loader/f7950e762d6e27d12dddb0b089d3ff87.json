{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sairahulpadma/Desktop/partpro/software-engg/software-engg/FE/partpromanagementsystem-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sairahulpadma/Desktop/partpro/software-engg/software-engg/FE/partpromanagementsystem-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sairahulpadma/Desktop/partpro/software-engg/software-engg/FE/partpromanagementsystem-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Navbar2 from\"../../components/Navbar/navbar2\";import TM from\"../../common/assets/form.svg\";import\"./Features.css\";import{useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{fetchBoxPlots}from\"../../services/glassclassificationservices\";import{HeroBtnWrapper,ArrowForward,ArrowRight}from\"../../components/HeroSection/HeroElements\";import{Button}from\"../../components/ButtonElement\";import CircularProgress from\"@mui/material/CircularProgress\";import Box from\"@mui/material/Box\";import{FeaturesRow,FeaturesColumn,TextWrapper,Img,TopLine,FeaturesSec,FeaturesContainer,ImgWrapper,Table,FeatureWrap}from\"./Features.elements\";import Collapse from\"rc-collapse\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Panel=Collapse.Panel;require(\"rc-collapse/assets/index.css\");var ImageClassification=function ImageClassification(_ref){var lightTopLine=_ref.lightTopLine;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),image=_useState2[0],setImage=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),imageUrl=_useState4[0],setImageUrl=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),classification=_useState6[0],setClassification=_useState6[1];var handleImageChange=function handleImageChange(e){var file=e.target.files[0];setImage(file);setImageUrl(URL.createObjectURL(file));classifyImage(file);};var classifyImage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(image){var formData,response,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData();formData.append('file',image);_context.prev=2;_context.next=5;return fetch('http://localhost:8001/ml/classify',{method:'POST',body:formData});case 5:response=_context.sent;_context.next=8;return response.json();case 8:result=_context.sent;console.log(result);setClassification(result.class[0]);_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](2);console.error('Error:',_context.t0);alert('Failed to classify the image.');case 17:case\"end\":return _context.stop();}}},_callee,null,[[2,13]]);}));return function classifyImage(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar2,{}),/*#__PURE__*/_jsxs(FeaturesSec,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Glass Type Classification from Images\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(HeroBtnWrapper,{children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleImageChange,accept:\"image/*\",className:\"upload-input\"})}),imageUrl&&/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:\"Uploaded\",className:\"uploaded-image\"}),/*#__PURE__*/_jsx(\"br\",{}),classification&&/*#__PURE__*/_jsxs(\"p\",{className:\"classification-result\",children:[\"Glass Type Classification: \",classification]})]})]})]});};export default ImageClassification;","map":{"version":3,"sources":["/Users/sairahulpadma/Desktop/partpro/software-engg/software-engg/FE/partpromanagementsystem-frontend/src/pages/imageClassification/index.js"],"names":["React","useState","Navbar2","useEffect","useParams","fetchBoxPlots","HeroBtnWrapper","ArrowForward","ArrowRight","Button","CircularProgress","Box","FeaturesRow","FeaturesColumn","TextWrapper","Img","TopLine","FeaturesSec","FeaturesContainer","ImgWrapper","Table","FeatureWrap","Collapse","Panel","require","ImageClassification","lightTopLine","image","setImage","imageUrl","setImageUrl","classification","setClassification","handleImageChange","e","file","target","files","URL","createObjectURL","classifyImage","formData","FormData","append","fetch","method","body","response","json","result","console","log","class","error","alert"],"mappings":"8oBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,OAAP,KAAoB,iCAApB,C,6CAEA,MAAO,gBAAP,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAAQC,aAAR,KAA4B,4CAA5B,CACA,OACEC,cADF,CAEEC,YAFF,CAGEC,UAHF,KAIO,2CAJP,CAKA,OAASC,MAAT,KAAuB,gCAAvB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,gCAA7B,CACA,MAAOC,CAAAA,GAAP,KAAgB,mBAAhB,CACA,OACEC,WADF,CAEEC,cAFF,CAGEC,WAHF,CAIEC,GAJF,CAKEC,OALF,CAMEC,WANF,CAOEC,iBAPF,CAQEC,UARF,CASEC,KATF,CAUEC,WAVF,KAWO,qBAXP,CAYA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,C,6IACA,GAAIC,CAAAA,KAAK,CAAGD,QAAQ,CAACC,KAArB,CACAC,OAAO,CAAC,8BAAD,CAAP,CAEA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,MAAsB,IAAnBC,CAAAA,YAAmB,MAAnBA,YAAmB,eACtBzB,QAAQ,CAAC,IAAD,CADc,wCACzC0B,KADyC,eAClCC,QADkC,8BAEhB3B,QAAQ,CAAC,IAAD,CAFQ,yCAEzC4B,QAFyC,eAE/BC,WAF+B,8BAGJ7B,QAAQ,CAAC,EAAD,CAHJ,yCAGzC8B,cAHyC,eAGzBC,iBAHyB,eAKhD,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,CAAD,CAAO,CAC7B,GAAMC,CAAAA,IAAI,CAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb,CACAT,QAAQ,CAACO,IAAD,CAAR,CACAL,WAAW,CAACQ,GAAG,CAACC,eAAJ,CAAoBJ,IAApB,CAAD,CAAX,CACAK,aAAa,CAACL,IAAD,CAAb,CACH,CALD,CAOA,GAAMK,CAAAA,aAAa,2FAAG,iBAAOb,KAAP,+IACdc,QADc,CACH,GAAIC,CAAAA,QAAJ,EADG,CAEpBD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBhB,KAAxB,EAFoB,sCAKOiB,CAAAA,KAAK,CAAC,mCAAD,CAAsC,CAC9DC,MAAM,CAAE,MADsD,CAE9DC,IAAI,CAAEL,QAFwD,CAAtC,CALZ,QAKVM,QALU,qCAUKA,CAAAA,QAAQ,CAACC,IAAT,EAVL,QAUVC,MAVU,eAWhBC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACAjB,iBAAiB,CAACiB,MAAM,CAACG,KAAP,CAAa,CAAb,CAAD,CAAjB,CAZgB,iFAchBF,OAAO,CAACG,KAAR,CAAc,QAAd,cACAC,KAAK,CAAC,+BAAD,CAAL,CAfgB,qEAAH,kBAAbd,CAAAA,aAAa,6CAAnB,CAsBA,mBACE,wCACE,KAAC,OAAD,IADF,cAEE,MAAC,WAAD,yBACA,6DADA,cAEA,oCACE,KAAC,cAAD,wBACA,cAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAEP,iBAA7B,CAAgD,MAAM,CAAC,SAAvD,CAAiE,SAAS,CAAC,cAA3E,EADA,EADF,CAIOJ,QAAQ,eAAI,YAAK,GAAG,CAAEA,QAAV,CAAoB,GAAG,CAAC,UAAxB,CAAoC,SAAS,CAAC,gBAA9C,EAJnB,cAKM,aALN,CAOOE,cAAc,eAAI,WAAG,SAAS,CAAC,uBAAb,yCAAiEA,cAAjE,GAPzB,GAFA,GAFF,GADF,CAkBD,CApDD,CAsDA,cAAeN,CAAAA,mBAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport Navbar2 from \"../../components/Navbar/navbar2\";\r\nimport TM from \"../../common/assets/form.svg\";\r\nimport \"./Features.css\";\r\nimport { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {fetchBoxPlots} from \"../../services/glassclassificationservices\"\r\nimport {\r\n  HeroBtnWrapper,\r\n  ArrowForward,\r\n  ArrowRight,\r\n} from \"../../components/HeroSection/HeroElements\";\r\nimport { Button } from \"../../components/ButtonElement\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport Box from \"@mui/material/Box\";\r\nimport {\r\n  FeaturesRow,\r\n  FeaturesColumn,\r\n  TextWrapper,\r\n  Img,\r\n  TopLine,\r\n  FeaturesSec,\r\n  FeaturesContainer,\r\n  ImgWrapper,\r\n  Table,\r\n  FeatureWrap,\r\n} from \"./Features.elements\";\r\nimport Collapse from \"rc-collapse\";\r\nvar Panel = Collapse.Panel;\r\nrequire(\"rc-collapse/assets/index.css\");\r\n\r\nconst ImageClassification = ({ lightTopLine }) => {\r\n  const [image, setImage] = useState(null);\r\n  const [imageUrl, setImageUrl] = useState(null);\r\n  const [classification, setClassification] = useState(\"\");\r\n\r\n  const handleImageChange = (e) => {\r\n      const file = e.target.files[0];\r\n      setImage(file);\r\n      setImageUrl(URL.createObjectURL(file));\r\n      classifyImage(file);\r\n  };\r\n\r\n  const classifyImage = async (image) => {\r\n    const formData = new FormData();\r\n    formData.append('file', image);\r\n\r\n    try {\r\n        const response = await fetch('http://localhost:8001/ml/classify', {\r\n            method: 'POST',\r\n            body: formData,\r\n        });\r\n\r\n        const result = await response.json();\r\n        console.log(result)\r\n        setClassification(result.class[0]);\r\n    } catch (error) {\r\n        console.error('Error:', error);\r\n        alert('Failed to classify the image.');\r\n    }\r\n};\r\n\r\n \r\n\r\n\r\n  return (\r\n    <>\r\n      <Navbar2 />\r\n      <FeaturesSec>\r\n      <h1>Glass Type Classification from Images</h1>\r\n      <div>\r\n        <HeroBtnWrapper>\r\n        <input type=\"file\" onChange={handleImageChange} accept=\"image/*\" className=\"upload-input\"/>\r\n        </HeroBtnWrapper>\r\n            {imageUrl && <img src={imageUrl} alt=\"Uploaded\"  className=\"uploaded-image\" />}\r\n            <br>\r\n            </br>\r\n            {classification && <p className=\"classification-result\">Glass Type Classification: {classification}</p>}\r\n        </div>\r\n\r\n    </FeaturesSec>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageClassification;\r\n"]},"metadata":{},"sourceType":"module"}