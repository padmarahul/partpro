{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sairahulpadma/Desktop/UNT/SPRING-2024/SE/partpro-del3/partpro-management-system/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sairahulpadma/Desktop/UNT/SPRING-2024/SE/partpro-del3/partpro-management-system/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sairahulpadma/Desktop/UNT/SPRING-2024/SE/partpro-del3/partpro-management-system/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import{useLocation,useNavigate}from'react-router-dom';import DashboardServices from'../../services/DashboardServices';import{FeaturesSec}from\"../../components/DetaisSection/Features.elements\";import{GlobalStateContext}from'../../GlobalStateContext';import{Button}from\"../../components/ButtonElement\";import'../ProductDetailsComponent/ProductDetails.css';import EmployeeNavbar from\"../../components/EmployeeNabBar/index\";import{Form,Modal}from'react-bootstrap';import{HeroBtnWrapper,ArrowForward,ArrowRight}from\"../../components/HeroSection/HeroElements\";import EmployeeServices from'../../services/EmployeeServices';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UpdateInventoryComponent=function UpdateInventoryComponent(){var _useContext=useContext(GlobalStateContext),_useContext2=_slicedToArray(_useContext,2),state=_useContext2[0],dispatch=_useContext2[1];var navigate=useNavigate();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),products=_useState4[0],setProducts=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),id=_useState6[0],setId=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),quantity=_useState8[0],setQuantity=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showQuantityModal=_useState10[0],setShowQuantityModal=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),hover=_useState12[0],setHover=_useState12[1];var onHover=function onHover(){setHover(!hover);};var handleQuantity=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return EmployeeServices.addOrUpdateInventory(id,quantity).then(function(resp){console.log(resp);if(resp.data==='Innventory Changed'&&resp.status===200){setShowQuantityModal(false);navigate('/employee-dashboard');}}).catch(function(err){console.log(err);});case 3:response=_context.sent;case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleQuantity(_x){return _ref.apply(this,arguments);};}();var handleInventory=function handleInventory(event,param){event.preventDefault();if(param!==undefined){setId(param.productId);setShowQuantityModal(true);}};var getData=function getData(){DashboardServices.getAllProducts().then(function(response){console.log(response.data);var modifiedData=response.data.map(function(item){return{productId:item.productId,productName:item.productName,productImage:generateImage(item.productImage),productDescription:item.productDescription,productPrice:item.productPrice};});setProducts(modifiedData);setLoading(function(e){return!e;});}).catch(function(error){console.log(error);});};var generateImage=function generateImage(base64Image){var imageData=base64Image.split(\",\")[1];var decodedImage=atob(imageData);var arrayBuffer=new Uint8Array(decodedImage.length);for(var i=0;i<decodedImage.length;i++){arrayBuffer[i]=decodedImage.charCodeAt(i);}var blob=new Blob([arrayBuffer],{type:'image/jpeg'});return URL.createObjectURL(blob);};useEffect(function(){getData();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(EmployeeNavbar,{}),/*#__PURE__*/_jsxs(FeaturesSec,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-grid\",children:products.map(function(item){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image\",children:/*#__PURE__*/_jsx(\"img\",{src:item.productImage,alt:item.productName})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h1\",{children:item.productName}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:item.productDescription}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"$\",item.productPrice.toFixed(2)]}),/*#__PURE__*/_jsx(HeroBtnWrapper,{style:{display:\"inline-block\"},children:/*#__PURE__*/_jsxs(Button,{onClick:function onClick(event){return handleInventory(event,item);},onMouseEnter:onHover,onMouseLeave:onHover,primary:\"true\",dark:\"true\",children:[\"Add/Update Product in Inventory\",hover?/*#__PURE__*/_jsx(ArrowForward,{}):/*#__PURE__*/_jsx(ArrowRight,{})]})})]})]});})}),/*#__PURE__*/_jsxs(Modal,{show:showQuantityModal,onHide:function onHide(){return setShowQuantityModal(false);},children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Enter Product Quantity\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Quantity\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Quantity\",value:quantity,onChange:function onChange(e){return setQuantity(e.target.value);}})]}),/*#__PURE__*/_jsx(HeroBtnWrapper,{style:{width:\"400px\",display:\"inline-block\"},children:/*#__PURE__*/_jsxs(Button,{onClick:function onClick(event){return handleQuantity(event);},onMouseEnter:onHover,onMouseLeave:onHover,primary:\"true\",dark:\"true\",children:[\"Submit \",hover?/*#__PURE__*/_jsx(ArrowForward,{}):/*#__PURE__*/_jsx(ArrowRight,{})]})})]})})]})]})]});};export default UpdateInventoryComponent;","map":{"version":3,"sources":["/Users/sairahulpadma/Desktop/UNT/SPRING-2024/SE/partpro-del3/partpro-management-system/src/frontend/src/pages/UpdateInventoryComponent/index.js"],"names":["React","useContext","useState","useEffect","useLocation","useNavigate","DashboardServices","FeaturesSec","GlobalStateContext","Button","EmployeeNavbar","Form","Modal","HeroBtnWrapper","ArrowForward","ArrowRight","EmployeeServices","UpdateInventoryComponent","state","dispatch","navigate","loading","setLoading","products","setProducts","id","setId","quantity","setQuantity","showQuantityModal","setShowQuantityModal","hover","setHover","onHover","handleQuantity","event","preventDefault","addOrUpdateInventory","then","resp","console","log","data","status","catch","err","response","handleInventory","param","undefined","productId","getData","getAllProducts","modifiedData","map","item","productName","productImage","generateImage","productDescription","productPrice","e","error","base64Image","imageData","split","decodedImage","atob","arrayBuffer","Uint8Array","length","i","charCodeAt","blob","Blob","type","URL","createObjectURL","toFixed","display","target","value","width"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect} from 'react';\nimport { useLocation, useNavigate} from 'react-router-dom';\nimport DashboardServices from '../../services/DashboardServices';\nimport {\n    FeaturesSec\n} from \"../../components/DetaisSection/Features.elements\";\nimport {GlobalStateContext} from  '../../GlobalStateContext'\nimport { Button } from \"../../components/ButtonElement\";\nimport '../ProductDetailsComponent/ProductDetails.css';\nimport EmployeeNavbar from \"../../components/EmployeeNabBar/index\"\nimport {  Form, Modal } from 'react-bootstrap';\nimport {\n    HeroBtnWrapper,\n    ArrowForward,\n    ArrowRight,\n  } from \"../../components/HeroSection/HeroElements\"\nimport EmployeeServices from '../../services/EmployeeServices';\nconst UpdateInventoryComponent = () => {\n    const [state, dispatch] = useContext(GlobalStateContext);\n    const navigate = useNavigate();\n    const [loading, setLoading] = useState(true)\n    const [products, setProducts] = useState([])\n    const [id,setId]=useState('')\n    const [ quantity, setQuantity] = useState('')\n    const [showQuantityModal, setShowQuantityModal] = useState(false);\n    const [hover, setHover] = useState(false);\n\n    const onHover = () => {\n        setHover(!hover);\n      };\n\n      const handleQuantity =async (event)=>{\n        event.preventDefault()\n        const response = await EmployeeServices.addOrUpdateInventory(id,quantity).then(resp => {\n            console.log(resp)\n          if (resp.data === 'Innventory Changed' && resp.status === 200) {\n            setShowQuantityModal(false);\n           navigate('/employee-dashboard')\n          }\n        }).catch(err => {\n          console.log(err)\n        })\n\n      }\n\n      const handleInventory=(event,param)=>{\n        event.preventDefault()\n        if(param!== undefined)\n        {\n            setId(param.productId)\n    setShowQuantityModal(true);\n        }\n      }\n    const getData = () => {\n        DashboardServices.getAllProducts().then(response => {\n            console.log(response.data)\n            const modifiedData = response.data.map(item => ({\n                productId: item.productId,\n                productName: item.productName,\n                productImage: generateImage(item.productImage),\n                productDescription: item.productDescription,\n                productPrice: item.productPrice\n            }));\n            setProducts(modifiedData)\n            setLoading(e => !e)\n        }).catch(error => {\n            console.log(error)\n        })\n    }\n   \n\n    const generateImage = (base64Image) => {\n        const imageData = base64Image.split(\",\")[1];\n        const decodedImage = atob(imageData);\n        const arrayBuffer = new Uint8Array(decodedImage.length);\n        for (let i = 0; i < decodedImage.length; i++) {\n            arrayBuffer[i] = decodedImage.charCodeAt(i);\n        }\n        const blob = new Blob([arrayBuffer], { type: 'image/jpeg' });\n        return URL.createObjectURL(blob);\n    }\n\n    useEffect(() => {\n        getData();\n    }, []);\n\n    return (\n        <>\n            <EmployeeNavbar>\n            </EmployeeNavbar>\n            <FeaturesSec>\n                <div className=\"product-grid\">\n                    {products.map((item) => (\n                        <>\n                            <div className=\"product-image\">\n                                <img src={item.productImage} alt={item.productName} />\n                            </div>\n                            <div className=\"product-info\">\n                                <h1>{item.productName}</h1>\n                                <p className=\"product-description\">{item.productDescription}</p>\n                                <p className=\"product-price\">${item.productPrice.toFixed(2)}</p>\n                                <HeroBtnWrapper style={{ display: \"inline-block\" }}>\n                                    <Button\n                                        onClick={(event) => handleInventory(event,item)}\n                                        onMouseEnter={onHover}\n                                        onMouseLeave={onHover}\n                                        primary=\"true\"\n                                        dark=\"true\"\n                                    >\n                                        Add/Update Product in Inventory{hover ? <ArrowForward /> : <ArrowRight />}\n                                    </Button>\n                                </HeroBtnWrapper>\n                            </div>\n                        </>\n                    ))}\n                </div>\n                  \n          <Modal show={showQuantityModal} onHide={() => setShowQuantityModal(false)}>\n            <Modal.Header closeButton>\n              <Modal.Title>Enter Product Quantity</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <Form>\n                <Form.Group>\n                  <Form.Label>Quantity</Form.Label>\n                  <Form.Control type=\"text\" placeholder=\"Quantity\"\n                    value={quantity}\n                    onChange={(e) => setQuantity(e.target.value)} />\n                </Form.Group>\n                <HeroBtnWrapper style={{ width: \"400px\", display: \"inline-block\" }}>\n                  <Button\n                    onClick={(event) => handleQuantity(event)}\n                    onMouseEnter={onHover}\n                    onMouseLeave={onHover}\n                    primary=\"true\"\n                    dark=\"true\"\n                  >\n                    Submit {hover ? <ArrowForward /> : <ArrowRight />}\n                  </Button>\n                </HeroBtnWrapper>\n              </Form>\n            </Modal.Body>\n          </Modal>\n            </FeaturesSec>\n        </>\n    );\n}\n\nexport default UpdateInventoryComponent;"]},"metadata":{},"sourceType":"module"}