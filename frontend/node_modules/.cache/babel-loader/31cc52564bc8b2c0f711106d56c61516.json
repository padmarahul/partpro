{"ast":null,"code":"import _slicedToArray from\"/Users/sairahulpadma/Desktop/temp/partpro/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// LoginScreen.js\nimport React,{useState,useEffect,useContext}from'react';import{useLocation}from\"react-router-dom\";import'../ProductsByCategory/ProductDetails.css';import{GlobalStateContext}from'../../GlobalStateContext';import DashboardNavbar from\"../../components/DashboardNavBar/index\";import{FeaturesSec}from\"../../components/DetaisSection/Features.elements\";import DashboardServices from\"../../services/DashboardServices\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function OrderDetailsComponent(_ref){var lightTopLine=_ref.lightTopLine;var _useContext=useContext(GlobalStateContext),_useContext2=_slicedToArray(_useContext,2),state=_useContext2[0],dispatch=_useContext2[1];var location=useLocation();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var queryParams=new URLSearchParams(location.search);var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),employee=_useState4[0],setEmployee=_useState4[1];var orderId=queryParams.get('orderId');var orderStatus=queryParams.get('orderStatus');var productIds=queryParams.get('productIds');var getData=function getData(){var idsArray=productIds.split(',').map(function(id){return id.trim();});var requests=idsArray.map(function(id){return DashboardServices.getProductDetails(id).then(function(response){var item=response.data;return{productId:item.productId,productName:item.productName,productImage:generateImage(item.productImage),productDescription:item.productDescription,productPrice:item.productPrice};});});Promise.all(requests).then(function(results){setOrders(results);// Update state with all product details\n}).catch(function(error){console.error('Error fetching product details:',error);});};if(!orders){console.log(orders);}var generateImage=function generateImage(base64Image){var imageData=base64Image.split(\",\")[1];var decodedImage=atob(imageData);var arrayBuffer=new Uint8Array(decodedImage.length);for(var i=0;i<decodedImage.length;i++){arrayBuffer[i]=decodedImage.charCodeAt(i);}var blob=new Blob([arrayBuffer],{type:'image/jpeg'});return URL.createObjectURL(blob);};useEffect(function(){getData();if(state.employeeData.employeeName!=undefined){var e=\"Thanks, for ordering the products from part pro. The employee \"+state.employeeData.employeeName+\" would assist for order assistance for in-store pickup and the contact details would be \"+state.employeeData.mobileNo+\" and the emailID is \"+state.employeeData.emailId;setEmployee(e);dispatch({type:'CLEAR_EMPLOYEE'});}dispatch({type:'CLEAR_CART'});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(DashboardNavbar,{}),/*#__PURE__*/_jsxs(FeaturesSec,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-grid\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Your OrderId for Tracking: \",/*#__PURE__*/_jsx(\"b\",{children:orderId})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"and Order Status is : \",/*#__PURE__*/_jsx(\"b\",{children:orderStatus})]}),orders.map(function(item){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image\",children:/*#__PURE__*/_jsx(\"img\",{style:{\"marginTop\":\"-15%\",\"width\":\"75%\",\"height\":\"75%\"},src:item.productImage,alt:item.productName})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h1\",{children:item.productName}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:item.productDescription}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"$\",item.productPrice.toFixed(2)]})]})]});})]}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:\"5%\",alignItems:'center'},children:employee!==null&&/*#__PURE__*/_jsx(\"b\",{children:employee})})]})]});};","map":{"version":3,"sources":["/Users/sairahulpadma/Desktop/temp/partpro/frontend/src/pages/OrderDetailsComponent/index.js"],"names":["React","useState","useEffect","useContext","useLocation","GlobalStateContext","DashboardNavbar","FeaturesSec","DashboardServices","OrderDetailsComponent","lightTopLine","state","dispatch","location","orders","setOrders","queryParams","URLSearchParams","search","employee","setEmployee","orderId","get","orderStatus","productIds","getData","idsArray","split","map","id","trim","requests","getProductDetails","then","response","item","data","productId","productName","productImage","generateImage","productDescription","productPrice","Promise","all","results","catch","error","console","log","base64Image","imageData","decodedImage","atob","arrayBuffer","Uint8Array","length","i","charCodeAt","blob","Blob","type","URL","createObjectURL","employeeData","employeeName","undefined","e","mobileNo","emailId","toFixed","marginTop","alignItems"],"mappings":"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","sourcesContent":["// LoginScreen.js\n\nimport React, {useState, useEffect, useContext} from 'react';\nimport { useLocation } from \"react-router-dom\";\nimport '../ProductsByCategory/ProductDetails.css';\nimport { GlobalStateContext } from '../../GlobalStateContext';\nimport DashboardNavbar from \"../../components/DashboardNavBar/index\"\nimport {\n  FeaturesSec,\n} from \"../../components/DetaisSection/Features.elements\";\nimport DashboardServices from \"../../services/DashboardServices\"\nexport default function OrderDetailsComponent({ lightTopLine }) {\n  const [state, dispatch] = useContext(GlobalStateContext);\n    const location = useLocation();\n    const [orders, setOrders]= useState([])\n    const queryParams = new URLSearchParams(location.search);\n    const [employee, setEmployee] =useState('')\n    const orderId = queryParams.get('orderId');\n    const orderStatus = queryParams.get('orderStatus');\n    const productIds =queryParams.get('productIds')\n    const getData = () => {\n      const idsArray = productIds.split(',').map(id => id.trim());\n      const requests = idsArray.map(id => {\n        return DashboardServices.getProductDetails(id).then(response => {\n          const item = response.data;\n          return {\n            productId: item.productId,\n            productName: item.productName,\n            productImage: generateImage(item.productImage),\n            productDescription: item.productDescription,\n            productPrice: item.productPrice\n          };\n        });\n      });\n\n\n    \n      Promise.all(requests)\n        .then(results => {\n          setOrders(results); // Update state with all product details\n        })\n        .catch(error => {\n          console.error('Error fetching product details:', error);\n        });\n    };\n    if(!orders){\n      console.log(orders)\n    }\n    \n  const generateImage = (base64Image) => {\n    const imageData = base64Image.split(\",\")[1];\n    const decodedImage = atob(imageData);\n    const arrayBuffer = new Uint8Array(decodedImage.length);\n    for (let i = 0; i < decodedImage.length; i++) {\n        arrayBuffer[i] = decodedImage.charCodeAt(i);\n    }\n    const blob = new Blob([arrayBuffer], { type: 'image/jpeg' });\n    return URL.createObjectURL(blob);\n}\n    useEffect(() => {\n      getData();\n      if(state.employeeData.employeeName!=undefined){\nlet e= \"Thanks, for ordering the products from part pro. The employee \"+ state.employeeData.employeeName +\" would assist for order assistance for in-store pickup and the contact details would be \" + state.employeeData.mobileNo +\" and the emailID is \"+ state.employeeData.emailId;\nsetEmployee(e)\ndispatch({ type: 'CLEAR_EMPLOYEE' });\n      }\n      dispatch({ type: 'CLEAR_CART' });\n  }, []);\n  return (\n    <>\n    <DashboardNavbar>\n    </DashboardNavbar>\n    <FeaturesSec>\n        <div className=\"product-grid\">\n        <p>\n     Your OrderId for Tracking: <b>\n     {orderId}\n      </b>\n    </p>\n    <p>\n  and Order Status is : <b>\n  {orderStatus}\n    </b>\n    </p>\n            {orders.map((item) => (\n                <>\n                    <div className=\"product-image\">\n                        <img style ={{\"marginTop\":\"-15%\",\"width\":\"75%\" ,\"height\":\"75%\"}}src={item.productImage} alt={item.productName} />\n                    </div>\n                    <div className=\"product-info\">\n                        <h1>{item.productName}</h1>\n                        <p className=\"product-description\">{item.productDescription}</p>\n                        <p className=\"product-price\">${item.productPrice.toFixed(2)}</p>\n                    </div>\n                </>\n            ))}\n        </div>\n        <p style={{ marginTop:\"5%\",alignItems:'center'}}>\n      {\n        employee !==null && (\n          <b>\n{employee}\n          </b>\n  \n        )\n      }\n    </p>\n    </FeaturesSec>\n</>\n  );\n};\n\n\n"]},"metadata":{},"sourceType":"module"}