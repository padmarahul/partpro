{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sairahulpadma/Desktop/UNT/SPRING-2024/SE/partpro-del3/partpro-management-system/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sairahulpadma/Desktop/UNT/SPRING-2024/SE/partpro-del3/partpro-management-system/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sairahulpadma/Desktop/UNT/SPRING-2024/SE/partpro-del3/partpro-management-system/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// LoginScreen.js\nimport React,{useState,useContext}from'react';import{useNavigate}from\"react-router-dom\";import{GlobalStateContext}from'../../GlobalStateContext';import'./LoginScreen.css';// Importing the CSS file\nimport{Container,Form,Row,Col,Modal}from'react-bootstrap';import LoginServices from\"../../services/LoginServices\";import{Button}from\"../../components/ButtonElement\";import TM from\"../../common/assets/form.svg\";import{HeroBtnWrapper,ArrowForward,ArrowRight}from\"../../components/HeroSection/HeroElements\";import{FeaturesColumn,Img,FeaturesSec,ImgWrapper}from\"../../components/DetaisSection/Features.elements\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function LoginComponent(_ref){var lightTopLine=_ref.lightTopLine;var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),hover=_useState2[0],setHover=_useState2[1];var _useContext=useContext(GlobalStateContext),_useContext2=_slicedToArray(_useContext,2),state=_useContext2[0],dispatch=_useContext2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),otp=_useState8[0],setOtp=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showOtpModal=_useState10[0],setShowOtpModal=_useState10[1];var onHover=function onHover(){setHover(!hover);};var handleLogin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return LoginServices.login(username,password).then(function(resp){if(resp.data.message==='Enter OTP generated'&&resp.status===200){setShowOtpModal(true);dispatch({type:'SET_USER_DATA',payload:resp.data});}}).catch(function(err){console.log(err);});case 3:response=_context.sent;case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleLogin(_x){return _ref2.apply(this,arguments);};}();var handleOtpSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var otpResponse;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();// Logic to handle OTP submission\nconsole.log(\"sssss\",state.userData.userId);_context2.next=4;return LoginServices.verifyOtp(state.userData.userId,otp).then(function(resp){setShowOtpModal(false);navigate(\"/dashboard\");}).catch(function(err){console.log(err);});case 4:otpResponse=_context2.sent;case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function handleOtpSubmit(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(FeaturesSec,{children:/*#__PURE__*/_jsxs(Container,{className:\"d-flex align-items-center justify-content-center \",style:{minHeight:\"100vh\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-100\",style:{maxWidth:\"400px\"},children:[/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Login\"}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(HeroBtnWrapper,{style:{width:\"400px\",display:\"inline-block\"},children:/*#__PURE__*/_jsxs(Button,{onClick:function onClick(event){return handleLogin(event);},onMouseEnter:onHover,onMouseLeave:onHover,primary:\"true\",dark:\"true\",children:[\"Login \",hover?/*#__PURE__*/_jsx(ArrowForward,{}):/*#__PURE__*/_jsx(ArrowRight,{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-100 text-center mt-3\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/changepassword\",children:\"Forgot Password?\"})})]}),/*#__PURE__*/_jsx(Row,{className:\"py-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 text-center\",children:[\"Need an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/signup\",children:\"Sign Up\"})]})})})]}),/*#__PURE__*/_jsx(FeaturesColumn,{children:/*#__PURE__*/_jsx(ImgWrapper,{style:{position:\"absolute\"},children:/*#__PURE__*/_jsx(Img,{src:TM,alt:\"car\"})})}),/*#__PURE__*/_jsxs(Modal,{show:showOtpModal,onHide:function onHide(){return setShowOtpModal(false);},children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Enter OTP\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"OTP\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"4-digit OTP\",value:otp,onChange:function onChange(e){return setOtp(e.target.value);}})]}),/*#__PURE__*/_jsx(HeroBtnWrapper,{style:{width:\"400px\",display:\"inline-block\"},children:/*#__PURE__*/_jsxs(Button,{onClick:function onClick(event){return handleOtpSubmit(event);},onMouseEnter:onHover,onMouseLeave:onHover,primary:\"true\",dark:\"true\",children:[\"Submit \",hover?/*#__PURE__*/_jsx(ArrowForward,{}):/*#__PURE__*/_jsx(ArrowRight,{})]})})]})})]})]})})});};","map":{"version":3,"sources":["/Users/sairahulpadma/Desktop/UNT/SPRING-2024/SE/partpro-del3/partpro-management-system/src/frontend/src/pages/LoginComponent/index.js"],"names":["React","useState","useContext","useNavigate","GlobalStateContext","Container","Form","Row","Col","Modal","LoginServices","Button","HeroBtnWrapper","ArrowForward","ArrowRight","FeaturesColumn","Img","FeaturesSec","ImgWrapper","LoginComponent","lightTopLine","navigate","hover","setHover","state","dispatch","username","setUsername","password","setPassword","otp","setOtp","showOtpModal","setShowOtpModal","onHover","handleLogin","event","preventDefault","login","then","resp","data","message","status","type","payload","catch","err","console","log","response","handleOtpSubmit","userData","userId","verifyOtp","otpResponse","minHeight","maxWidth","e","target","value","width","display","position","TM"],"mappings":"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","sourcesContent":["// LoginScreen.js\n\nimport React, { useState, useContext } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { GlobalStateContext } from '../../GlobalStateContext';\nimport './LoginScreen.css'; // Importing the CSS file\nimport { Container, Form, Row, Col, Modal } from 'react-bootstrap';\nimport LoginServices from \"../../services/LoginServices\"\nimport { Button } from \"../../components/ButtonElement\";\nimport TM from \"../../common/assets/form.svg\";\nimport {\n  HeroBtnWrapper,\n  ArrowForward,\n  ArrowRight,\n} from \"../../components/HeroSection/HeroElements\"\nimport {\n  FeaturesColumn,\n  Img,\n  FeaturesSec,\n  ImgWrapper,\n} from \"../../components/DetaisSection/Features.elements\";\nexport default function LoginComponent({ lightTopLine }) {\n  const navigate = useNavigate();\n  const [hover, setHover] = useState(false);\n  const [state, dispatch] = useContext(GlobalStateContext);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [otp, setOtp] = useState('')\n  const [showOtpModal, setShowOtpModal] = useState(false);\n  const onHover = () => {\n    setHover(!hover);\n  };\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    const response = await LoginServices.login(username, password).then(resp => {\n      if (resp.data.message === 'Enter OTP generated' && resp.status === 200) {\n        setShowOtpModal(true);\n        dispatch({ type: 'SET_USER_DATA', payload: resp.data });\n      }\n    }).catch(err => {\n      console.log(err)\n    })\n\n  }\n  const handleOtpSubmit = async (event) => {\n    event.preventDefault()\n    // Logic to handle OTP submission\n    console.log(\"sssss\", state.userData.userId)\n    const otpResponse = await LoginServices.verifyOtp(state.userData.userId, otp).then(\n      resp => { \n        setShowOtpModal(false);\n        navigate(\"/dashboard\");\n      }\n    ).catch(err => {\n      console.log(err)\n    })\n\n  };\n\n  return (\n    <>\n      <FeaturesSec>\n        <Container className=\"d-flex align-items-center justify-content-center \" style={{ minHeight: \"100vh\" }}>\n\n          <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\n            <Form>\n              <h2 className=\"text-center mb-4\">Login</h2>\n              <Form.Group controlId=\"formBasicEmail\">\n                <Form.Label>Username</Form.Label>\n                <Form.Control type=\"text\" placeholder=\"Enter username\"\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)} />\n              </Form.Group>\n\n              <Form.Group controlId=\"formBasicPassword\">\n                <Form.Label>Password</Form.Label>\n                <Form.Control type=\"password\" placeholder=\"Password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)} />\n              </Form.Group>\n              <HeroBtnWrapper style={{ width: \"400px\", display: \"inline-block\" }}>\n                <Button\n                  onClick={(event) => handleLogin(event)}\n                  onMouseEnter={onHover}\n                  onMouseLeave={onHover}\n                  primary=\"true\"\n                  dark=\"true\"\n                >\n                  Login {hover ? <ArrowForward /> : <ArrowRight />}\n                </Button>\n              </HeroBtnWrapper>\n\n\n              <div className=\"w-100 text-center mt-3\">\n                <a href=\"/changepassword\">Forgot Password?</a>\n              </div>\n            </Form>\n\n            <Row className=\"py-4\">\n              <Col>\n                <div className=\"w-100 text-center\">\n                  Need an account? <a href=\"/signup\">Sign Up</a>\n                </div>\n              </Col>\n            </Row>\n          </div>\n         \n          <FeaturesColumn>\n          <ImgWrapper style={{ position: \"absolute\" }}>\n            <Img src={TM} alt=\"car\" />\n          </ImgWrapper>\n        </FeaturesColumn>\n        \n          <Modal show={showOtpModal} onHide={() => setShowOtpModal(false)}>\n            <Modal.Header closeButton>\n              <Modal.Title>Enter OTP</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <Form>\n                <Form.Group>\n                  <Form.Label>OTP</Form.Label>\n                  <Form.Control type=\"text\" placeholder=\"4-digit OTP\"\n                    value={otp}\n                    onChange={(e) => setOtp(e.target.value)} />\n                </Form.Group>\n                <HeroBtnWrapper style={{ width: \"400px\", display: \"inline-block\" }}>\n                  <Button\n                    onClick={(event) => handleOtpSubmit(event)}\n                    onMouseEnter={onHover}\n                    onMouseLeave={onHover}\n                    primary=\"true\"\n                    dark=\"true\"\n                  >\n                    Submit {hover ? <ArrowForward /> : <ArrowRight />}\n                  </Button>\n                </HeroBtnWrapper>\n              </Form>\n            </Modal.Body>\n          </Modal>\n         \n        </Container>\n      </FeaturesSec>\n    </>\n  );\n};\n\n\n"]},"metadata":{},"sourceType":"module"}