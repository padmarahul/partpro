{"ast":null,"code":"import _objectSpread from\"/Users/sairahulpadma/Desktop/UNT/SPRING-2024/SE/partpro-del3/partpro-management-system/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/sairahulpadma/Desktop/UNT/SPRING-2024/SE/partpro-del3/partpro-management-system/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{GlobalStateContext}from'../../GlobalStateContext';import'bootstrap/dist/css/bootstrap.min.css';import{FaStore,FaTrashAlt,FaPlus,FaMinus}from'react-icons/fa';import\"./CartPage.css\";import{FeaturesSec}from\"../../components/DetaisSection/Features.elements\";import PaymentServices from'../../services/PaymentServices';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CartComponent=function CartComponent(){var _useContext=useContext(GlobalStateContext),_useContext2=_slicedToArray(_useContext,2),state=_useContext2[0],dispatch=_useContext2[1];var _useState=useState({prodIds:[],totalAmount:''}),_useState2=_slicedToArray(_useState,2),cart=_useState2[0],setCart=_useState2[1];console.log(state.cart);var increaseQuantity=function increaseQuantity(id){dispatch({type:'INCREASE_QUANTITY',payload:id});};var decreaseQuantity=function decreaseQuantity(id){dispatch({type:'DECREASE_QUANTITY',payload:id});};var removeItem=function removeItem(id){dispatch({type:'REMOVE_FROM_CART',payload:id});};var calculateTotal=function calculateTotal(){return state.cart.reduce(function(acc,item){return acc+item.productPrice*item.quantity;},0);};var getProductId=function getProductId(){return state.cart.map(function(item){return item.id;});};var handlePayment=function handlePayment(event){var totalAmount=calculateTotal().toFixed(2);var ids=getProductId();event.preventDefault();setCart(function(prevCart){return _objectSpread(_objectSpread({},prevCart),{},{prodIds:ids,totalAmount:totalAmount});});var response=PaymentServices.createPayment(state.userData.userId,cart).then(function(resp){console.log(response);if(resp.status===200){window.open(resp.data,'_blank');}}).catch(function(err){console.log(err);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(FeaturesSec,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-9\",children:state.cart.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3\",children:/*#__PURE__*/_jsx(\"img\",{src:item.productImage,alt:item.productName,style:{width:'200px',height:'200px'},className:\"img-fluid\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:item.productName}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:item.productDescription}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:\"Reviews and Rating: 4.5\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:\"black\",fontWeight:\"bolder\"},className:\"col-sm-3 text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{style:{color:\"black\",fontWeight:\"bolder\"},children:[\"Price: $\",item.productPrice.toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning \",onClick:function onClick(){return decreaseQuantity(item.id);},children:/*#__PURE__*/_jsx(FaMinus,{})}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"black\",fontWeight:\"bolder\"},className:\"mx-2\",children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning \",onClick:function onClick(){return increaseQuantity(item.id);},children:/*#__PURE__*/_jsx(FaPlus,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-danger\",onClick:function onClick(){return removeItem(item.id);},children:/*#__PURE__*/_jsx(FaTrashAlt,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"instore-option mt-2\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-success\",children:[/*#__PURE__*/_jsx(FaStore,{}),\" In-Store Pickup\"]})})]})]})})},item.id);})}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"black\",fontWeight:\"bolder\"},className:\"col-lg-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sticky-top\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Order Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-summary-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"subtotal\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:\"black\",fontWeight:\"bolder\"},children:[\"$\",calculateTotal().toFixed(2)]})]}),/*#__PURE__*/_jsx(\"button\",{style:{color:\"black\",fontWeight:\"bolder\"},className:\"btn btn-warning btn-block mt-3\",children:\"CHECKOUT PAYMENT AS GUEST\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"30px\",marginLeft:\"40%\",fontWeight:\"bolder\"},children:\" OR \"}),/*#__PURE__*/_jsx(\"button\",{style:{color:\"black\",fontWeight:\"bolder\"},className:\"btn btn-warning btn-block mt-3\",onClick:function onClick(event){return handlePayment(event);},children:\" Complete Payment By PayPal\"})]})]})})]})})})});};export default CartComponent;","map":{"version":3,"sources":["/Users/sairahulpadma/Desktop/UNT/SPRING-2024/SE/partpro-del3/partpro-management-system/src/frontend/src/pages/CartComponent/index.js"],"names":["React","useContext","useState","GlobalStateContext","FaStore","FaTrashAlt","FaPlus","FaMinus","FeaturesSec","PaymentServices","CartComponent","state","dispatch","prodIds","totalAmount","cart","setCart","console","log","increaseQuantity","id","type","payload","decreaseQuantity","removeItem","calculateTotal","reduce","acc","item","productPrice","quantity","getProductId","map","handlePayment","event","toFixed","ids","preventDefault","prevCart","response","createPayment","userData","userId","then","resp","status","window","open","data","catch","err","productImage","productName","width","height","productDescription","color","fontWeight","fontSize","marginLeft"],"mappings":"mbAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,OAASC,kBAAT,KAAmC,0BAAnC,CACA,MAAO,sCAAP,CACA,OAAQC,OAAR,CAAiBC,UAAjB,CAA6BC,MAA7B,CAAqCC,OAArC,KAAoD,gBAApD,CACA,MAAO,gBAAP,CACA,OACEC,WADF,KAEO,kDAFP,CAGA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,C,6IACA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,iBACAT,UAAU,CAACE,kBAAD,CADV,4CACnBQ,KADmB,iBACZC,QADY,+BAEFV,QAAQ,CAAC,CAC/BW,OAAO,CAAC,EADuB,CAE/BC,WAAW,CAAE,EAFkB,CAAD,CAFN,wCAEnBC,IAFmB,eAEbC,OAFa,eAM5BC,OAAO,CAACC,GAAR,CAAYP,KAAK,CAACI,IAAlB,EACE,GAAMI,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,EAAD,CAAQ,CAC/BR,QAAQ,CAAC,CAAES,IAAI,CAAE,mBAAR,CAA6BC,OAAO,CAAEF,EAAtC,CAAD,CAAR,CACD,CAFD,CAIA,GAAMG,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACH,EAAD,CAAQ,CAC/BR,QAAQ,CAAC,CAAES,IAAI,CAAE,mBAAR,CAA6BC,OAAO,CAAEF,EAAtC,CAAD,CAAR,CACD,CAFD,CAIA,GAAMI,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACJ,EAAD,CAAQ,CACzBR,QAAQ,CAAC,CAAES,IAAI,CAAE,kBAAR,CAA4BC,OAAO,CAAEF,EAArC,CAAD,CAAR,CACD,CAFD,CAIA,GAAMK,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,MAAOd,CAAAA,KAAK,CAACI,IAAN,CAAWW,MAAX,CAAkB,SAACC,GAAD,CAAMC,IAAN,QAAeD,CAAAA,GAAG,CAAGC,IAAI,CAACC,YAAL,CAAoBD,IAAI,CAACE,QAA9C,EAAlB,CAA0E,CAA1E,CAAP,CACD,CAFD,CAGA,GAAMC,CAAAA,YAAY,CAAE,QAAdA,CAAAA,YAAc,EAAI,CACtB,MAAOpB,CAAAA,KAAK,CAACI,IAAN,CAAWiB,GAAX,CAAe,SAAAJ,IAAI,QAAIA,CAAAA,IAAI,CAACR,EAAT,EAAnB,CAAP,CACD,CAFD,CAGA,GAAMa,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/B,GAAMpB,CAAAA,WAAW,CAACW,cAAc,GAAGU,OAAjB,CAAyB,CAAzB,CAAlB,CACA,GAAMC,CAAAA,GAAG,CAACL,YAAY,EAAtB,CACAG,KAAK,CAACG,cAAN,GACArB,OAAO,CAAC,SAAAsB,QAAQ,wCACXA,QADW,MAEdzB,OAAO,CAAEuB,GAFK,CAGdtB,WAAW,CAAEA,WAHC,IAAT,CAAP,CAKA,GAAMyB,CAAAA,QAAQ,CAAI9B,eAAe,CAAC+B,aAAhB,CAA8B7B,KAAK,CAAC8B,QAAN,CAAeC,MAA7C,CAAqD3B,IAArD,EAA2D4B,IAA3D,CAAgE,SAAAC,IAAI,CAAI,CACxF3B,OAAO,CAACC,GAAR,CAAYqB,QAAZ,EACA,GAAIK,IAAI,CAACC,MAAL,GAAgB,GAApB,CAAyB,CACzBC,MAAM,CAACC,IAAP,CAAYH,IAAI,CAACI,IAAjB,CAAuB,QAAvB,EACC,CACF,CALiB,EAKfC,KALe,CAKT,SAAAC,GAAG,CAAI,CACdjC,OAAO,CAACC,GAAR,CAAYgC,GAAZ,EACD,CAPiB,CAAlB,CAQD,CAjBD,CAmBA,mBACE,sCACA,KAAC,WAAD,wBACA,YAAK,SAAS,CAAC,gBAAf,uBACE,aAAK,SAAS,CAAC,KAAf,wBAEE,YAAK,SAAS,CAAC,UAAf,UACGvC,KAAK,CAACI,IAAN,CAAWiB,GAAX,CAAe,SAACJ,IAAD,qBACd,YAAK,SAAS,CAAC,WAAf,uBACE,YAAK,SAAS,CAAC,WAAf,uBACE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,GAAG,CAAEA,IAAI,CAACuB,YAAf,CAA6B,GAAG,CAAEvB,IAAI,CAACwB,WAAvC,CAAqD,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAT,CAAkBC,MAAM,CAAE,OAA1B,CAA5D,CAAiG,SAAS,CAAC,WAA3G,EADF,EADF,cAIE,aAAK,SAAS,CAAC,UAAf,wBACE,WAAI,SAAS,CAAC,YAAd,UAA4B1B,IAAI,CAACwB,WAAjC,EADF,cAEE,UAAG,SAAS,CAAC,WAAb,UAA0BxB,IAAI,CAAC2B,kBAA/B,EAFF,cAGE,UAAG,SAAS,CAAC,WAAb,qCAHF,GAJF,cASE,aAAK,KAAK,CAAE,CAACC,KAAK,CAAE,OAAR,CAAiBC,UAAU,CAAC,QAA5B,CAAZ,CAAkD,SAAS,CAAC,qBAA5D,wBACE,WAAG,KAAK,CAAE,CAACD,KAAK,CAAE,OAAR,CAAiBC,UAAU,CAAC,QAA5B,CAAV,sBAA0D7B,IAAI,CAACC,YAAL,CAAkBM,OAAlB,CAA0B,CAA1B,CAA1D,GADF,cAEE,eAAQ,SAAS,CAAC,kBAAlB,CAAqC,OAAO,CAAE,yBAAMZ,CAAAA,gBAAgB,CAACK,IAAI,CAACR,EAAN,CAAtB,EAA9C,uBAA+E,KAAC,OAAD,IAA/E,EAFF,cAGE,aAAM,KAAK,CAAE,CAACoC,KAAK,CAAE,OAAR,CAAgBC,UAAU,CAAC,QAA3B,CAAb,CAAmD,SAAS,CAAC,MAA7D,UAAqE7B,IAAI,CAACE,QAA1E,EAHF,cAIE,eAAQ,SAAS,CAAC,kBAAlB,CAAqC,OAAO,CAAE,yBAAMX,CAAAA,gBAAgB,CAACS,IAAI,CAACR,EAAN,CAAtB,EAA9C,uBAA+E,KAAC,MAAD,IAA/E,EAJF,cAKE,eAAQ,SAAS,CAAC,wBAAlB,CAA2C,OAAO,CAAE,yBAAMI,CAAAA,UAAU,CAACI,IAAI,CAACR,EAAN,CAAhB,EAApD,uBAA+E,KAAC,UAAD,IAA/E,EALF,cAME,YAAK,SAAS,CAAC,qBAAf,uBACE,gBAAQ,SAAS,CAAC,yBAAlB,wBACE,KAAC,OAAD,IADF,sBADF,EANF,GATF,GADF,EADF,EAAgCQ,IAAI,CAACR,EAArC,CADc,EAAf,CADH,EAFF,cAgCE,YAAK,KAAK,CAAE,CAACoC,KAAK,CAAE,OAAR,CAAgBC,UAAU,CAAC,QAA3B,CAAZ,CAAkD,SAAS,CAAC,UAA5D,uBACE,aAAK,SAAS,CAAC,YAAf,wBACE,qCADF,cAEE,aAAK,SAAS,CAAC,uBAAf,wBACE,aAAM,SAAS,CAAC,UAAhB,wBACE,kCADF,cAEE,cAAM,KAAK,CAAE,CAACD,KAAK,CAAE,OAAR,CAAgBC,UAAU,CAAC,QAA3B,CAAb,eAAqDhC,cAAc,GAAGU,OAAjB,CAAyB,CAAzB,CAArD,GAFF,GADF,cAKE,eAAQ,KAAK,CAAE,CAACqB,KAAK,CAAE,OAAR,CAAgBC,UAAU,CAAC,QAA3B,CAAf,CAAqD,SAAS,CAAC,gCAA/D,uCALF,cAME,UAAG,KAAK,CAAE,CAAEC,QAAQ,CAAC,MAAX,CAAmBC,UAAU,CAAC,KAA9B,CAAoCF,UAAU,CAAC,QAA/C,CAAV,kBANF,cAOE,eAAQ,KAAK,CAAE,CAACD,KAAK,CAAE,OAAR,CAAgBC,UAAU,CAAC,QAA3B,CAAf,CAAqD,SAAS,CAAC,gCAA/D,CAAiG,OAAO,CAAE,iBAACvB,KAAD,QAAWD,CAAAA,aAAa,CAACC,KAAD,CAAxB,EAA1G,yCAPF,GAFF,GADF,EAhCF,GADF,EADA,EADA,EADF,CAuDD,CAnGD,CAqGA,cAAexB,CAAAA,aAAf","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { GlobalStateContext } from '../../GlobalStateContext';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {FaStore, FaTrashAlt, FaPlus, FaMinus } from 'react-icons/fa';\nimport \"./CartPage.css\";\nimport {\n  FeaturesSec\n} from \"../../components/DetaisSection/Features.elements\";\nimport PaymentServices from '../../services/PaymentServices';\nconst CartComponent = () => {\n  const [state, dispatch] = useContext(GlobalStateContext);\n  const [cart, setCart] = useState({\n    prodIds:[],\n    totalAmount :''\n});\nconsole.log(state.cart)\n  const increaseQuantity = (id) => {\n    dispatch({ type: 'INCREASE_QUANTITY', payload: id });\n  };\n\n  const decreaseQuantity = (id) => {\n    dispatch({ type: 'DECREASE_QUANTITY', payload: id });\n  };\n\n  const removeItem = (id) => {\n    dispatch({ type: 'REMOVE_FROM_CART', payload: id });\n  };\n\n  const calculateTotal = () => {\n    return state.cart.reduce((acc, item) => acc + item.productPrice * item.quantity, 0);\n  };\n  const getProductId =()=>{\n    return state.cart.map(item => item.id);\n  }\n  const handlePayment = (event) => {\n    const totalAmount=calculateTotal().toFixed(2)\n    const ids=getProductId()\n    event.preventDefault()\n    setCart(prevCart => ({\n      ...prevCart,\n      prodIds: ids,\n      totalAmount: totalAmount\n    }));\n    const response =  PaymentServices.createPayment(state.userData.userId, cart).then(resp => {\n      console.log(response)\n      if (resp.status === 200) {\n      window.open(resp.data, '_blank');\n      } \n    }).catch(err => {\n      console.log(err)\n    })\n  };\n\n  return (\n    <>\n    <FeaturesSec>\n    <div className=\"container mt-4\">\n      <div className=\"row\">\n        {/* Product listing */}\n        <div className=\"col-lg-9\">\n          {state.cart.map((item) => (\n            <div className=\"card mb-3\" key={item.id}>\n              <div className=\"card-body\">\n                <div className=\"row\">\n                  <div className=\"col-sm-3\">\n                    <img src={item.productImage} alt={item.productName}  style={{ width: '200px', height: '200px' }} className=\"img-fluid\" />\n                  </div>\n                  <div className=\"col-sm-6\">\n                    <h5 className=\"card-title\">{item.productName}</h5>\n                    <p className=\"card-text\">{item.productDescription}</p>\n                    <p className=\"card-text\">Reviews and Rating: 4.5</p>\n                  </div>\n                  <div style={{color: \"black\", fontWeight:\"bolder\"}}className=\"col-sm-3 text-right\">\n                    <p style={{color: \"black\", fontWeight:\"bolder\"}}>Price: ${item.productPrice.toFixed(2)}</p>\n                    <button className=\"btn btn-warning \" onClick={() => decreaseQuantity(item.id)}><FaMinus /></button>\n                    <span style={{color: \"black\",fontWeight:\"bolder\"}} className=\"mx-2\">{item.quantity}</span>\n                    <button className=\"btn btn-warning \" onClick={() => increaseQuantity(item.id)}><FaPlus /></button>\n                    <button className=\"btn btn-outline-danger\" onClick={() => removeItem(item.id)}><FaTrashAlt /></button>\n                    <div className=\"instore-option mt-2\">\n                      <button className=\"btn btn-outline-success\">\n                        <FaStore /> In-Store Pickup\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n        <div style={{color: \"black\",fontWeight:\"bolder\"}} className=\"col-lg-3\">\n          <div className=\"sticky-top\">\n            <h4>Order Summary</h4>\n            <div className=\"order-summary-content\">\n              <div  className=\"subtotal\">\n                <span>Subtotal</span>\n                <span style={{color: \"black\",fontWeight:\"bolder\"}}>${calculateTotal().toFixed(2)}</span>\n              </div>\n              <button style={{color: \"black\",fontWeight:\"bolder\"}} className=\"btn btn-warning btn-block mt-3\">CHECKOUT PAYMENT AS GUEST</button>\n              <p style={{ fontSize:\"30px\", marginLeft:\"40%\",fontWeight:\"bolder\"}}> OR </p>\n              <button style={{color: \"black\",fontWeight:\"bolder\"}} className=\"btn btn-warning btn-block mt-3\"  onClick={(event) => handlePayment(event)}> Complete Payment By PayPal</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </FeaturesSec>\n         </>\n  );\n};\n\nexport default CartComponent;\n"]},"metadata":{},"sourceType":"module"}